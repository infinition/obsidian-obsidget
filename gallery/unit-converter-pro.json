{
  "id": "unit-converter-pro",
  "name": "Unit Converter Pro",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">⚖️ Unit Converter</h4>\n  \n  <div class=\"converter-box\">\n    <div class=\"input-row\">\n      <input type=\"number\" id=\"val-in\" value=\"1\" oninput=\"convert()\">\n      <select id=\"unit-in\" onchange=\"convert()\">\n        <optgroup label=\"Length\">\n          <option value=\"m\">Meters</option>\n          <option value=\"km\">Kilometers</option>\n          <option value=\"mi\">Miles</option>\n          <option value=\"ft\">Feet</option>\n        </optgroup>\n        <optgroup label=\"Weight\">\n          <option value=\"kg\">Kilograms</option>\n          <option value=\"lb\">Pounds</option>\n          <option value=\"oz\">Ounces</option>\n        </optgroup>\n      </select>\n    </div>\n\n    <div class=\"separator\">=</div>\n\n    <div class=\"input-row\">\n      <input type=\"number\" id=\"val-out\" readonly>\n      <select id=\"unit-out\" onchange=\"convert()\">\n        <optgroup label=\"Length\">\n          <option value=\"m\">Meters</option>\n          <option value=\"km\">Kilometers</option>\n          <option value=\"mi\">Miles</option>\n          <option value=\"ft\">Feet</option>\n        </optgroup>\n        <optgroup label=\"Weight\">\n          <option value=\"kg\">Kilograms</option>\n          <option value=\"lb\">Pounds</option>\n          <option value=\"oz\">Ounces</option>\n        </optgroup>\n      </select>\n    </div>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #f8fafc;\n    color: #1e293b;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.05);\n    border: 1px solid #e2e8f0;\n}\n.widget-title { margin: 0 0 1.5rem 0; font-size: 1rem; font-weight: 800; color: #64748b; text-transform: uppercase; letter-spacing: 1px; text-align: center; }\n\n.converter-box { display: grid; gap: 12px; }\n\n.input-row {\n    display: flex;\n    background: #f1f5f9;\n    border-radius: 12px;\n    padding: 4px;\n    border: 1px solid #e2e8f0;\n}\n\n.input-row input {\n    flex: 1;\n    background: none;\n    border: none;\n    padding: 12px;\n    font-size: 1.2rem;\n    font-weight: 700;\n    color: #1e293b;\n    outline: none;\n    width: 100px;\n}\n\n.input-row select {\n    background: white;\n    border: 1px solid #e2e8f0;\n    border-radius: 8px;\n    padding: 0 12px;\n    font-weight: 600;\n    color: #64748b;\n    cursor: pointer;\n}\n\n.separator {\n    text-align: center;\n    font-size: 1.5rem;\n    font-weight: 800;\n    color: #94a3b8;\n}",
  "js": "const { root, saveState, getState } = api;\n\nconst factors = {\n    m: 1,\n    km: 1000,\n    mi: 1609.34,\n    ft: 0.3048,\n    kg: 1,\n    lb: 0.453592,\n    oz: 0.0283495\n};\n\nfunction convert() {\n    const valIn = parseFloat(root.getElementById('val-in').value);\n    const unitIn = root.getElementById('unit-in').value;\n    const unitOut = root.getElementById('unit-out').value;\n    \n    if (isNaN(valIn)) return;\n\n    const isLength = ['m', 'km', 'mi', 'ft'].includes(unitIn);\n    const isWeight = ['kg', 'lb', 'oz'].includes(unitIn);\n    const isOutLength = ['m', 'km', 'mi', 'ft'].includes(unitOut);\n    const isOutWeight = ['kg', 'lb', 'oz'].includes(unitOut);\n\n    if ((isLength && isOutLength) || (isWeight && isOutWeight)) {\n        const baseVal = valIn * factors[unitIn];\n        const result = baseVal / factors[unitOut];\n        root.getElementById('val-out').value = result.toFixed(4).replace(/\\.0+$/, '');\n        saveState({ valIn, unitIn, unitOut });\n    } else {\n        root.getElementById('val-out').value = \"Error\";\n    }\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        root.getElementById('val-in').value = saved.valIn || 1;\n        root.getElementById('unit-in').value = saved.unitIn || 'm';\n        root.getElementById('unit-out').value = saved.unitOut || 'km';\n    }\n    convert();\n}\n\ninit();",
  "tags": [
    "calculator",
    "conversion",
    "tools"
  ]
}