{
  "id": "dice-roller",
  "name": "Dice Roller",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸŽ² RPG Dice Roller</h4>\n  \n  <div class=\"dice-display\" id=\"dice-result\">?</div>\n\n  <div class=\"dice-grid\">\n    <button onclick=\"roll(4)\">D4</button>\n    <button onclick=\"roll(6)\">D6</button>\n    <button onclick=\"roll(8)\">D8</button>\n    <button onclick=\"roll(10)\">D10</button>\n    <button onclick=\"roll(12)\">D12</button>\n    <button onclick=\"roll(20)\">D20</button>\n    <button onclick=\"roll(100)\">D100</button>\n  </div>\n\n  <div class=\"history\" id=\"roll-history\"></div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #450a0a;\n    color: #fecaca;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.3);\n    border: 1px solid #7f1d1d;\n    text-align: center;\n}\n.widget-title { margin: 0 0 1.5rem 0; font-size: 0.9rem; font-weight: 800; color: #ef4444; text-transform: uppercase; letter-spacing: 2px; }\n\n.dice-display {\n    font-size: 4rem;\n    font-weight: 900;\n    color: white;\n    height: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 1.5rem;\n    text-shadow: 0 0 20px rgba(239, 68, 68, 0.5);\n}\n\n.dice-grid {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 8px;\n    margin-bottom: 1.5rem;\n}\n.dice-grid button {\n    background: #7f1d1d;\n    color: white;\n    border: none;\n    padding: 10px 4px;\n    border-radius: 8px;\n    font-weight: 800;\n    font-size: 0.8rem;\n    cursor: pointer;\n    transition: all 0.1s;\n}\n.dice-grid button:active { transform: scale(0.9); background: #ef4444; }\n\n.history {\n    display: flex;\n    gap: 8px;\n    overflow-x: auto;\n    padding-bottom: 8px;\n    font-size: 0.7rem;\n    font-weight: 700;\n    opacity: 0.6;\n}\n.history span { background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px; }",
  "js": "const { root, saveState, getState } = api;\n\nlet history = [];\n\nfunction renderHistory() {\n    const hist = root.getElementById('roll-history');\n    hist.innerHTML = '';\n    history.slice(0, 10).forEach(val => {\n        const span = document.createElement('span');\n        span.innerText = val;\n        hist.appendChild(span);\n    });\n}\n\nfunction roll(sides) {\n    const display = root.getElementById('dice-result');\n    display.style.animation = 'none';\n    void display.offsetWidth;\n    display.style.animation = 'shake 0.3s ease';\n\n    const result = Math.floor(Math.random() * sides) + 1;\n    display.innerText = result;\n    \n    history.unshift(`D${sides}: ${result}`);\n    if (history.length > 10) history.pop();\n    \n    renderHistory();\n    saveState(history);\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved) history = saved;\n    renderHistory();\n}\n\nconst style = document.createElement('style');\nstyle.textContent = `\n@keyframes shake {\n    0% { transform: translate(1px, 1px) rotate(0deg); }\n    10% { transform: translate(-1px, -2px) rotate(-1deg); }\n    20% { transform: translate(-3px, 0px) rotate(1deg); }\n    30% { transform: translate(3px, 2px) rotate(0deg); }\n    40% { transform: translate(1px, -1px) rotate(1deg); }\n    50% { transform: translate(-1px, 2px) rotate(-1deg); }\n    60% { transform: translate(-3px, 1px) rotate(0deg); }\n    70% { transform: translate(3px, 1px) rotate(-1deg); }\n    80% { transform: translate(-1px, -1px) rotate(1deg); }\n    90% { transform: translate(1px, 2px) rotate(0deg); }\n    100% { transform: translate(1px, -2px) rotate(-1deg); }\n}`;\nroot.appendChild(style);\n\ninit();",
  "tags": [
    "games",
    "random",
    "entertainment"
  ]
}