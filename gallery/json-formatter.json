{
  "id": "json-formatter",
  "name": "JSON Formatter",
  "description": "Format and validate your JSON data.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"json-widget\">\n  <div class=\"widget-header\">\n    <div class=\"header-main\">\n      <h4 class=\"widget-title\">ğŸ“¦ JSON Studio Pro</h4>\n      <div class=\"header-actions\">\n        <button class=\"btn-icon\" id=\"btn-paste\" title=\"Paste from Clipboard\">ğŸ“¥</button>\n        <button class=\"btn-icon\" id=\"btn-clear\" title=\"Clear All\">ğŸ—‘ï¸</button>\n      </div>\n    </div>\n    <div class=\"status-bar\" id=\"status-bar\">\n      <span class=\"status-dot\" id=\"status-dot\"></span>\n      <span class=\"status-text\" id=\"status-text\">Ready</span>\n    </div>\n  </div>\n\n  <div class=\"editor-container\">\n    <textarea id=\"json-input\" placeholder=\"Paste your JSON here...\" spellcheck=\"false\"></textarea>\n    <div class=\"line-numbers\" id=\"line-numbers\"></div>\n  </div>\n\n  <div class=\"actions-grid\">\n    <button class=\"btn-primary\" id=\"btn-format\">BEAUTIFY</button>\n    <button class=\"btn-secondary\" id=\"btn-minify\">MINIFY</button>\n    <button class=\"btn-secondary\" id=\"btn-copy\">COPY</button>\n  </div>\n\n  <div id=\"toast\" class=\"toast\">Copied to clipboard! âœ¨</div>\n</div>",
  "css": ":host { display: block; font-family: var(--font-interface); }\n* { box-sizing: border-box; }\n\n.json-widget {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 24px;\n    padding: 1.5rem;\n    color: var(--text-normal);\n    box-shadow: var(--shadow-s);\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 1.25rem;\n    position: relative;\n}\n\n.widget-header {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n}\n\n.header-main {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.widget-title {\n    margin: 0;\n    font-size: 0.8rem;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.1em;\n    color: var(--text-muted);\n}\n\n.header-actions {\n    display: flex;\n    gap: 8px;\n}\n\n.btn-icon {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 8px;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.2s;\n    font-size: 0.9rem;\n}\n.btn-icon:hover { background: var(--background-modifier-hover); }\n\n.status-bar {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background: rgba(0,0,0,0.1);\n    padding: 6px 12px;\n    border-radius: 10px;\n}\n\n.status-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: var(--text-muted);\n    transition: background 0.3s;\n}\n.status-dot.valid { background: #10b981; box-shadow: 0 0 8px rgba(16, 185, 129, 0.4); }\n.status-dot.invalid { background: #ef4444; box-shadow: 0 0 8px rgba(239, 68, 68, 0.4); }\n\n.status-text {\n    font-size: 0.65rem;\n    font-weight: 700;\n    color: var(--text-muted);\n    text-transform: uppercase;\n}\n\n.editor-container {\n    position: relative;\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 16px;\n    overflow: hidden;\n    display: flex;\n}\n\ntextarea {\n    width: 100%;\n    height: 250px;\n    background: transparent;\n    border: none;\n    color: var(--text-normal);\n    padding: 16px;\n    font-size: 0.85rem;\n    font-family: var(--font-monospace);\n    outline: none;\n    resize: vertical;\n    line-height: 1.5;\n    z-index: 2;\n}\n\n.actions-grid {\n    display: grid;\n    grid-template-columns: 2fr 1fr 1fr;\n    gap: 10px;\n}\n\n.actions-grid button {\n    border: none;\n    padding: 12px;\n    border-radius: 12px;\n    font-size: 0.75rem;\n    font-weight: 800;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.btn-primary {\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    box-shadow: 0 4px 0 rgba(0,0,0,0.1);\n}\n.btn-primary:hover { filter: brightness(1.1); transform: translateY(-1px); }\n.btn-primary:active { transform: translateY(1px); box-shadow: none; }\n\n.btn-secondary {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border) !important;\n    color: var(--text-normal);\n}\n.btn-secondary:hover { background: var(--background-modifier-hover); }\n\n.toast {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%) translateY(100px);\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    z-index: 100;\n    box-shadow: var(--shadow-l);\n}\n.toast.show { transform: translateX(-50%) translateY(0); }",
  "js": "const { root, saveState, getState } = api;\n\nfunction updateStatus(isValid, message = '') {\n    const dot = root.getElementById('status-dot');\n    const text = root.getElementById('status-text');\n    \n    if (isValid) {\n        dot.className = 'status-dot valid';\n        text.innerText = 'Valid JSON';\n        text.style.color = 'var(--text-normal)';\n    } else {\n        dot.className = 'status-dot invalid';\n        text.innerText = message || 'Invalid JSON';\n        text.style.color = '#ef4444';\n    }\n}\n\nfunction formatJSON() {\n    const input = root.getElementById('json-input');\n    const val = input.value.trim();\n    if (!val) return;\n\n    try {\n        const obj = JSON.parse(val);\n        input.value = JSON.stringify(obj, null, 2);\n        updateStatus(true);\n        save();\n    } catch (e) {\n        updateStatus(false, e.message);\n    }\n}\n\nfunction minifyJSON() {\n    const input = root.getElementById('json-input');\n    const val = input.value.trim();\n    if (!val) return;\n\n    try {\n        const obj = JSON.parse(val);\n        input.value = JSON.stringify(obj);\n        updateStatus(true);\n        save();\n    } catch (e) {\n        updateStatus(false, e.message);\n    }\n}\n\nasync function pasteFromClipboard() {\n    try {\n        const text = await navigator.clipboard.readText();\n        if (text) {\n            root.getElementById('json-input').value = text;\n            validate();\n        }\n    } catch (err) {\n        alert('Clipboard access denied. Please paste manually.');\n    }\n}\n\nfunction copyToClipboard() {\n    const input = root.getElementById('json-input');\n    if (!input.value) return;\n\n    navigator.clipboard.writeText(input.value).then(() => {\n        showToast('Copied to clipboard! âœ¨');\n    });\n}\n\nfunction validate() {\n    const input = root.getElementById('json-input');\n    const val = input.value.trim();\n    if (!val) {\n        updateStatus(false, 'Ready');\n        root.getElementById('status-dot').className = 'status-dot';\n        return;\n    }\n\n    try {\n        JSON.parse(val);\n        updateStatus(true);\n    } catch (e) {\n        updateStatus(false, 'Invalid');\n    }\n}\n\nfunction showToast(msg) {\n    const toast = root.getElementById('toast');\n    if (toast) {\n        toast.innerText = msg;\n        toast.classList.add('show');\n        setTimeout(() => toast.classList.remove('show'), 2000);\n    }\n}\n\nfunction save() {\n    saveState(root.getElementById('json-input').value);\n}\n\nasync function init() {\n    const saved = await getState();\n    const input = root.getElementById('json-input');\n    if (saved) input.value = saved;\n\n    root.getElementById('btn-format').onclick = formatJSON;\n    root.getElementById('btn-minify').onclick = minifyJSON;\n    root.getElementById('btn-copy').onclick = copyToClipboard;\n    root.getElementById('btn-paste').onclick = pasteFromClipboard;\n    root.getElementById('btn-clear').onclick = () => {\n        input.value = '';\n        validate();\n        save();\n    };\n\n    input.oninput = () => {\n        validate();\n    };\n\n    input.onblur = () => save();\n\n    validate();\n}\n\ninit();",
  "tags": [
    "development",
    "tools",
    "json",
    "premium",
    "formatter"
  ]
}