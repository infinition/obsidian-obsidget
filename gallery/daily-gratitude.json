{
  "id": "daily-gratitude",
  "name": "Daily Gratitude",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">âœ¨ Daily Gratitude</h4>\n  <p class=\"subtitle\">What are you grateful for today?</p>\n  <div class=\"input-list\">\n    <div class=\"input-item\"><span>1.</span><input type=\"text\" id=\"grat-1\" placeholder=\"...\"></div>\n    <div class=\"input-item\"><span>2.</span><input type=\"text\" id=\"grat-2\" placeholder=\"...\"></div>\n    <div class=\"input-item\"><span>3.</span><input type=\"text\" id=\"grat-3\" placeholder=\"...\"></div>\n  </div>\n  <button class=\"btn-save\" id=\"btn-save\">Save Reflection</button>\n  <div class=\"history\" id=\"grat-history\"></div>\n  <button class=\"btn-clear\" id=\"btn-clear\">Clear History</button>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #fffbeb;\n    color: #92400e;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.05);\n    border: 1px solid #fef3c7;\n    text-align: center;\n}\n.widget-title { margin: 0; font-size: 1.1rem; font-weight: 800; color: #d97706; }\n.subtitle { font-size: 0.8rem; margin: 4px 0 1.5rem 0; opacity: 0.7; font-weight: 600; }\n\n.input-list { display: grid; gap: 10px; margin-bottom: 1.5rem; }\n.input-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    background: white;\n    padding: 8px 12px;\n    border-radius: 12px;\n    border: 1px solid #fde68a;\n}\n.input-item span { font-weight: 800; color: #f59e0b; }\n.input-item input {\n    border: none;\n    background: none;\n    flex: 1;\n    font-size: 0.9rem;\n    color: #92400e;\n    outline: none;\n    font-weight: 500;\n}\n\n.btn-save {\n    background: #f59e0b;\n    color: white;\n    border: none;\n    padding: 10px 24px;\n    border-radius: 100px;\n    font-weight: 700;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.btn-save:hover { background: #d97706; transform: translateY(-2px); }\n\n.history {\n    margin-top: 1.5rem;\n    text-align: left;\n    max-height: 150px;\n    overflow-y: auto;\n    font-size: 0.75rem;\n    display: grid;\n    gap: 8px;\n}\n.history-item {\n    background: rgba(255,255,255,0.5);\n    padding: 8px;\n    border-radius: 8px;\n    border-left: 3px solid #f59e0b;\n    cursor: pointer;\n    transition: background 0.2s;\n}\n.history-item:hover { background: rgba(255,200,200,0.5); }\n\n.btn-clear {\n    margin-top: 1rem;\n    background: none;\n    border: none;\n    color: #92400e;\n    font-size: 0.7rem;\n    cursor: pointer;\n    text-decoration: underline;\n    opacity: 0.6;\n}\n.btn-clear:hover { opacity: 1; }",
  "js": "var state = {\n    current: ['', '', ''],\n    history: []\n};\n\nfunction renderHistory() {\n    var hist = api.root.getElementById('grat-history');\n    hist.innerHTML = '';\n    state.history.slice(0, 5).forEach(function(item, idx) {\n        var div = document.createElement('div');\n        div.className = 'history-item';\n        div.innerHTML = '<b>' + item.date + ':</b> ' + item.items.join(', ');\n        div.title = 'Click to delete';\n        div.onclick = function() { deleteEntry(idx); };\n        hist.appendChild(div);\n    });\n}\n\nfunction saveGratitude() {\n    var items = [\n        api.root.getElementById('grat-1').value.trim(),\n        api.root.getElementById('grat-2').value.trim(),\n        api.root.getElementById('grat-3').value.trim()\n    ];\n    \n    if (items.some(function(i) { return i !== ''; })) {\n        state.current = items;\n        var date = new Date().toLocaleDateString();\n        if (state.history.length === 0 || state.history[0].date !== date) {\n            state.history.unshift({ date: date, items: items });\n        } else {\n            state.history[0].items = items;\n        }\n        \n        renderHistory();\n        api.saveState(state);\n    }\n}\n\nfunction deleteEntry(idx) {\n    state.history.splice(idx, 1);\n    renderHistory();\n    api.saveState(state);\n}\n\nfunction clearHistory() {\n    state.history = [];\n    renderHistory();\n    api.saveState(state);\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved) state = saved;\n    \n    api.root.getElementById('grat-1').value = state.current[0] || '';\n    api.root.getElementById('grat-2').value = state.current[1] || '';\n    api.root.getElementById('grat-3').value = state.current[2] || '';\n    \n    api.root.getElementById('btn-save').onclick = saveGratitude;\n    api.root.getElementById('btn-clear').onclick = clearHistory;\n    \n    renderHistory();\n}\n\ninit();",
  "tags": [
    "wellbeing",
    "journal",
    "mindfulness"
  ]
}