{
  "id": "objectif-lecture",
  "name": "Objectif Lecture",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ“š Objectif de lecture</h4>\n  <div class=\"progress-container\">\n    <div class=\"progress-bg\">\n      <div id=\"bar\" class=\"progress-fill\"></div>\n    </div>\n    <div class=\"progress-text\" id=\"valeur\">0%</div>\n  </div>\n  <div class=\"controls\">\n    <button class=\"btn-action\" onclick=\"adjust(-10)\">-10%</button>\n    <button class=\"btn-action\" onclick=\"adjust(10)\">+10%</button>\n  </div>\n  <p class=\"status-msg\" id=\"msg\">En cours...</p>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: var(--background-secondary);\n    border: 1px solid var(--divider-color);\n    border-radius: 12px;\n    padding: 1.25rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n    text-align: center;\n}\n.widget-title {\n    margin: 0 0 1.25rem 0;\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--text-accent);\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n}\n.progress-container {\n    position: relative;\n    margin-bottom: 1.25rem;\n}\n.progress-bg {\n    background: var(--background-primary);\n    height: 24px;\n    border-radius: 12px;\n    overflow: hidden;\n    border: 1px solid var(--divider-color);\n}\n.progress-fill {\n    height: 100%;\n    width: 0%;\n    background: linear-gradient(90deg, var(--interactive-accent) 0%, var(--interactive-accent-hover) 100%);\n    transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n.progress-text {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 0.85rem;\n    font-weight: 700;\n    color: var(--text-normal);\n    text-shadow: 0 0 4px var(--background-primary);\n}\n.controls {\n    display: flex;\n    justify-content: center;\n    gap: 12px;\n    margin-bottom: 1rem;\n}\n.btn-action {\n    background: var(--interactive-accent);\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 8px;\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 0.85rem;\n    transition: transform 0.1s, filter 0.2s;\n}\n.btn-action:hover { filter: brightness(1.1); }\n.btn-action:active { transform: scale(0.95); }\n.status-msg {\n    font-size: 0.8rem;\n    margin: 0;\n    color: var(--text-muted);\n    font-style: italic;\n}",
  "js": "const { root, saveState, getState } = api;\n\nconst bar = root.getElementById('bar');\nconst display = root.getElementById('valeur');\nconst msg = root.getElementById('msg');\n\nlet progress = 0;\n\nasync function init() {\n    const saved = await getState();\n    if (saved !== null) {\n        progress = saved;\n    }\n    refresh();\n}\n\nfunction refresh() {\n    bar.style.width = progress + \"%\";\n    display.innerText = progress + \"%\";\n    \n    if (progress >= 100) {\n        msg.innerText = \"ðŸŽ‰ Objectif atteint !\";\n        msg.style.color = \"var(--text-success)\";\n    } else {\n        msg.innerText = \"En cours...\";\n        msg.style.color = \"var(--text-muted)\";\n    }\n}\n\nadjust = async (amount) => {\n    progress = Math.max(0, Math.min(100, progress + amount));\n    refresh();\n    await saveState(progress);\n};\n\ninit();",
  "tags": [
    "reading",
    "tracker",
    "education"
  ]
}