{
  "id": "mindful-breathing",
  "name": "Mindful Breathing",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ§˜ Mindful Breathing</h4>\n  <div class=\"breathing-container\">\n    <div class=\"circle-outer\">\n      <div class=\"circle-inner\" id=\"breathing-circle\"></div>\n    </div>\n    <div class=\"instruction\" id=\"instruction\">Press Start</div>\n  </div>\n  <div class=\"controls\">\n    <button class=\"btn-breathing\" id=\"btn-breath\">Start Session</button>\n    <button class=\"btn-reset\" id=\"btn-reset\">Reset Time</button>\n  </div>\n  <div class=\"session-info\" id=\"session-info\">Total Practice: 0:00</div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);\n    color: #0369a1;\n    border-radius: 24px;\n    padding: 2rem;\n    text-align: center;\n    box-shadow: 0 10px 30px rgba(0,0,0,0.05);\n    border: 1px solid rgba(255,255,255,0.5);\n}\n.widget-title { margin: 0 0 2rem 0; font-size: 1rem; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; color: #0ea5e9; }\n\n.breathing-container {\n    position: relative;\n    height: 200px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 2rem;\n}\n\n.circle-outer {\n    width: 160px;\n    height: 160px;\n    border-radius: 50%;\n    background: rgba(14, 165, 233, 0.1);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n\n.circle-inner {\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);\n    box-shadow: 0 0 20px rgba(14, 165, 233, 0.4);\n    transition: all 4s ease-in-out;\n}\n\n.circle-inner.inhale {\n    width: 140px;\n    height: 140px;\n}\n\n.instruction {\n    margin-top: 1.5rem;\n    font-size: 1.2rem;\n    font-weight: 700;\n    color: #0369a1;\n    min-height: 1.5em;\n}\n\n.controls { display: flex; gap: 10px; justify-content: center; }\n.btn-breathing {\n    background: #0ea5e9;\n    color: white;\n    border: none;\n    padding: 12px 32px;\n    border-radius: 100px;\n    font-weight: 700;\n    cursor: pointer;\n    transition: all 0.3s;\n    box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);\n}\n.btn-breathing:hover { background: #0284c7; transform: translateY(-2px); }\n.btn-breathing.active { background: #f43f5e; box-shadow: 0 4px 12px rgba(244, 63, 94, 0.3); }\n\n.btn-reset {\n    background: none;\n    border: none;\n    color: #0369a1;\n    font-size: 0.75rem;\n    cursor: pointer;\n    text-decoration: underline;\n    opacity: 0.6;\n}\n.btn-reset:hover { opacity: 1; }\n\n.session-info { margin-top: 1rem; font-size: 0.8rem; color: #64748b; font-weight: 600; }",
  "js": "var isBreathing = false;\nvar timerId = null;\nvar startTime = null;\nvar sessionTimer = null;\nvar totalSessionTime = 0;\n\nfunction updateInfo() {\n    var mins = Math.floor(totalSessionTime / 60);\n    var secs = totalSessionTime % 60;\n    api.root.getElementById('session-info').innerText = 'Total Practice: ' + mins + ':' + (secs < 10 ? '0' : '') + secs;\n}\n\nfunction toggleBreathing() {\n    if (isBreathing) {\n        stopBreathing();\n    } else {\n        startBreathing();\n    }\n}\n\nfunction startBreathing() {\n    isBreathing = true;\n    var btn = api.root.getElementById('btn-breath');\n    btn.innerText = 'Stop Session';\n    btn.classList.add('active');\n    startTime = Date.now();\n    \n    sessionTimer = setInterval(function() {\n        // tracking session time\n    }, 1000);\n\n    cycle();\n}\n\nfunction stopBreathing() {\n    isBreathing = false;\n    var btn = api.root.getElementById('btn-breath');\n    btn.innerText = 'Start Session';\n    btn.classList.remove('active');\n    api.root.getElementById('instruction').innerText = 'Session Ended';\n    api.root.getElementById('breathing-circle').classList.remove('inhale');\n    \n    clearTimeout(timerId);\n    clearInterval(sessionTimer);\n    \n    var sessionDuration = Math.floor((Date.now() - startTime) / 1000);\n    totalSessionTime += sessionDuration;\n    \n    updateInfo();\n    api.saveState({ totalTime: totalSessionTime });\n}\n\nfunction resetTime() {\n    totalSessionTime = 0;\n    updateInfo();\n    api.saveState({ totalTime: 0 });\n}\n\nfunction cycle() {\n    if (!isBreathing) return;\n    \n    var instruction = api.root.getElementById('instruction');\n    var circle = api.root.getElementById('breathing-circle');\n    \n    instruction.innerText = 'Inhale...';\n    circle.classList.add('inhale');\n    \n    timerId = setTimeout(function() {\n        if (!isBreathing) return;\n        instruction.innerText = 'Hold...';\n        \n        timerId = setTimeout(function() {\n            if (!isBreathing) return;\n            instruction.innerText = 'Exhale...';\n            circle.classList.remove('inhale');\n            \n            timerId = setTimeout(function() {\n                if (!isBreathing) return;\n                instruction.innerText = 'Hold...';\n                \n                timerId = setTimeout(cycle, 2000);\n            }, 4000);\n        }, 2000);\n    }, 4000);\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved) totalSessionTime = saved.totalTime || 0;\n    \n    api.root.getElementById('btn-breath').onclick = toggleBreathing;\n    api.root.getElementById('btn-reset').onclick = resetTime;\n    \n    updateInfo();\n}\n\ninit();",
  "tags": [
    "wellbeing",
    "meditation",
    "mindfulness"
  ]
}