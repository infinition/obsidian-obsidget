{
  "id": "meal-planner",
  "name": "Meal Planner",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ¥— Weekly Meal Plan</h4>\n  \n  <div class=\"day-selector\" id=\"day-selector\">\n    <button class=\"day-btn active\" data-day=\"0\">M</button>\n    <button class=\"day-btn\" data-day=\"1\">T</button>\n    <button class=\"day-btn\" data-day=\"2\">W</button>\n    <button class=\"day-btn\" data-day=\"3\">T</button>\n    <button class=\"day-btn\" data-day=\"4\">F</button>\n    <button class=\"day-btn\" data-day=\"5\">S</button>\n    <button class=\"day-btn\" data-day=\"6\">S</button>\n  </div>\n\n  <div class=\"meal-inputs\">\n    <div class=\"input-group\">\n      <label>Breakfast</label>\n      <input type=\"text\" id=\"meal-b\" placeholder=\"...\">\n    </div>\n    <div class=\"input-group\">\n      <label>Lunch</label>\n      <input type=\"text\" id=\"meal-l\" placeholder=\"...\">\n    </div>\n    <div class=\"input-group\">\n      <label>Dinner</label>\n      <input type=\"text\" id=\"meal-d\" placeholder=\"...\">\n    </div>\n  </div>\n\n  <div class=\"actions\">\n    <button class=\"btn-save\" id=\"btn-save\">Save Day Plan</button>\n    <button class=\"btn-clear\" id=\"btn-clear\">Clear Week</button>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #f0fdf4;\n    color: #166534;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.05);\n    border: 1px solid #dcfce7;\n    text-align: center;\n}\n.widget-title { margin: 0 0 1.5rem 0; font-size: 1rem; font-weight: 800; color: #15803d; text-transform: uppercase; letter-spacing: 1px; }\n\n.day-selector {\n    display: flex;\n    justify-content: center;\n    gap: 6px;\n    margin-bottom: 1.5rem;\n}\n.day-btn {\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    border: 1px solid #bbf7d0;\n    background: white;\n    color: #166534;\n    font-weight: 800;\n    font-size: 0.75rem;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.day-btn.active { background: #22c55e; color: white; border-color: #22c55e; }\n\n.meal-inputs { text-align: left; display: grid; gap: 12px; margin-bottom: 1.5rem; }\n.input-group label { display: block; font-size: 0.7rem; font-weight: 700; color: #15803d; margin-bottom: 4px; text-transform: uppercase; }\n.input-group input {\n    width: 100%;\n    background: white;\n    border: 1px solid #bbf7d0;\n    color: #166534;\n    border-radius: 8px;\n    padding: 8px 12px;\n    font-size: 0.9rem;\n    outline: none;\n}\n.input-group input:focus { border-color: #22c55e; }\n\n.actions { display: flex; gap: 10px; justify-content: center; }\n.btn-save {\n    background: #22c55e;\n    color: white;\n    border: none;\n    padding: 10px 24px;\n    border-radius: 100px;\n    font-weight: 700;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.btn-save:hover { background: #16a34a; transform: translateY(-2px); }\n.btn-clear {\n    background: none;\n    border: none;\n    color: #166534;\n    font-size: 0.75rem;\n    cursor: pointer;\n    text-decoration: underline;\n    opacity: 0.6;\n}\n.btn-clear:hover { opacity: 1; }",
  "js": "var currentDay = 0;\nvar plan = [\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' },\n    { b: '', l: '', d: '' }\n];\n\nfunction loadDay() {\n    var day = plan[currentDay];\n    api.root.getElementById('meal-b').value = day.b;\n    api.root.getElementById('meal-l').value = day.l;\n    api.root.getElementById('meal-d').value = day.d;\n    \n    api.root.querySelectorAll('.day-btn').forEach(function(btn, idx) {\n        btn.classList.toggle('active', idx === currentDay);\n    });\n}\n\nfunction setDay(idx) {\n    saveDay(false);\n    currentDay = idx;\n    loadDay();\n}\n\nfunction saveDay(notify) {\n    plan[currentDay] = {\n        b: api.root.getElementById('meal-b').value.trim(),\n        l: api.root.getElementById('meal-l').value.trim(),\n        d: api.root.getElementById('meal-d').value.trim()\n    };\n    \n    api.saveState(plan);\n    if (notify !== false) alert('Plan saved! ðŸ¥—');\n}\n\nfunction clearWeek() {\n    plan = [\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' },\n        { b: '', l: '', d: '' }\n    ];\n    loadDay();\n    api.saveState(plan);\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved) plan = saved;\n    \n    api.root.querySelectorAll('.day-btn').forEach(function(btn, idx) {\n        btn.onclick = function() { setDay(idx); };\n    });\n    \n    api.root.getElementById('btn-save').onclick = function() { saveDay(true); };\n    api.root.getElementById('btn-clear').onclick = clearWeek;\n    \n    loadDay();\n}\n\ninit();",
  "tags": [
    "nutrition",
    "planning",
    "health"
  ]
}