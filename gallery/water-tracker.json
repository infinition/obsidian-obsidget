{
  "id": "water-tracker",
  "name": "Water Tracker",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ’§ Hydratation</h4>\n  <div class=\"water-display\">\n    <div class=\"glass-container\">\n      <div id=\"water-fill\" class=\"water-fill\"></div>\n      <div class=\"water-label\" id=\"water-text\">0.0 L</div>\n    </div>\n  </div>\n  <div class=\"controls\">\n    <button class=\"btn-water\" onclick=\"addWater(250)\">+ 250ml</button>\n    <button class=\"btn-water\" onclick=\"addWater(500)\">+ 500ml</button>\n    <button class=\"btn-water btn-secondary\" onclick=\"resetWater()\">â†º</button>\n  </div>\n  <p class=\"goal-text\">Objectif : 2.0 L</p>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: var(--background-secondary);\n    border: 1px solid var(--divider-color);\n    border-radius: 12px;\n    padding: 1.25rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n    text-align: center;\n}\n.widget-title { margin: 0 0 1.25rem 0; font-size: 0.9rem; font-weight: 600; color: var(--text-accent); text-transform: uppercase; letter-spacing: 0.05em; }\n\n.glass-container {\n    width: 70px; \n    height: 100px;\n    border: 3px solid var(--text-muted);\n    border-top: none;\n    border-radius: 0 0 12px 12px;\n    margin: 1.5rem auto;\n    position: relative; \n    overflow: hidden;\n    background: var(--background-primary);\n}\n.water-fill {\n    position: absolute; \n    bottom: 0; \n    left: 0; \n    width: 100%;\n    background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);\n    transition: height 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);\n    height: 0%;\n}\n.water-label {\n    position: absolute; \n    width: 100%; \n    top: 50%;\n    transform: translateY(-50%); \n    font-weight: 800;\n    font-size: 0.85rem;\n    color: var(--text-normal); \n    text-shadow: 0 0 8px var(--background-primary);\n    z-index: 1;\n}\n.controls { display: flex; gap: 8px; justify-content: center; }\n.btn-water {\n    background: var(--interactive-accent); \n    color: white;\n    border: none; \n    padding: 8px 12px; \n    border-radius: 8px;\n    cursor: pointer; \n    font-size: 0.8rem;\n    font-weight: 600;\n    transition: all 0.2s;\n}\n.btn-water:hover { filter: brightness(1.1); transform: translateY(-1px); }\n.btn-secondary { background: var(--background-modifier-border); color: var(--text-normal); }\n\n.goal-text { font-size: 0.75rem; color: var(--text-muted); margin-top: 1rem; font-style: italic; }",
  "js": "const { root, saveState, getState } = api;\nlet currentWater = 0; \nconst goal = 2000;\n\nasync function init() {\n    const saved = await getState();\n    if (saved !== null) {\n        currentWater = saved;\n    }\n    update();\n}\n\nasync function update() {\n    const fill = root.getElementById('water-fill');\n    const text = root.getElementById('water-text');\n    \n    const percent = Math.min((currentWater / goal) * 100, 100);\n    fill.style.height = percent + \"%\";\n    text.innerText = (currentWater / 1000).toFixed(1) + \" L\";\n    \n    await saveState(currentWater);\n}\n\naddWater = async (amount) => {\n    currentWater = Math.min(currentWater + amount, goal + 1000);\n    await update();\n};\n\nresetWater = async () => {\n    if(confirm(\"RÃ©initialiser l'hydratation ?\")) {\n        currentWater = 0;\n        await update();\n    }\n};\n\ninit();",
  "tags": [
    "health",
    "hydration",
    "tracker"
  ]
}