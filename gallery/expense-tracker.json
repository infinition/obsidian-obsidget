{
  "id": "expense-tracker",
  "name": "Expense Tracker",
  "description": "Track your daily expenses and visualize your spending.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"widget-card\">\n  <div class=\"widget-header\">\n    <h4 class=\"widget-title\">ðŸ’° Expense Tracker</h4>\n    <div class=\"total-display\" id=\"total-amount\">$0.00</div>\n  </div>\n\n  <div class=\"input-section\">\n    <div class=\"input-row\">\n      <input type=\"text\" id=\"exp-name\" placeholder=\"Description\">\n      <input type=\"number\" id=\"exp-amount\" placeholder=\"Amount\">\n    </div>\n    <div class=\"input-row controls\">\n      <div class=\"color-picker-wrapper\">\n        <input type=\"checkbox\" id=\"use-color\">\n        <input type=\"color\" id=\"exp-color\" value=\"#7c4dff\">\n      </div>\n      <button class=\"btn-add\" id=\"btn-add\">Add</button>\n    </div>\n  </div>\n\n  <div class=\"expense-list\" id=\"expense-list\"></div>\n  \n  <div class=\"footer-actions\">\n    <button class=\"btn-clear\" id=\"btn-clear\">Clear All</button>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: var(--background-secondary);\n    border: 1px solid var(--divider-color);\n    border-radius: 16px;\n    padding: 1.5rem;\n    box-shadow: 0 4px 15px rgba(0,0,0,0.05);\n}\n.widget-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }\n.widget-title { margin: 0; font-size: 1rem; font-weight: 700; color: var(--text-normal); }\n\n.total-display {\n    font-size: 1.5rem;\n    font-weight: 800;\n    color: var(--interactive-accent);\n}\n\n.input-section {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    margin-bottom: 1.5rem;\n}\n.input-row {\n    display: flex;\n    gap: 8px;\n}\n.input-section input[type=\"text\"], \n.input-section input[type=\"number\"] {\n    background: var(--background-primary);\n    border: 1px solid var(--divider-color);\n    color: var(--text-normal);\n    border-radius: 8px;\n    padding: 8px 12px;\n    font-size: 0.85rem;\n    outline: none;\n    width: 100%;\n}\n#exp-name { flex: 2; }\n#exp-amount { flex: 1; }\n\n.controls {\n    justify-content: space-between;\n    align-items: center;\n}\n\n.color-picker-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\ninput[type=\"color\"] {\n    border: none;\n    width: 24px;\n    height: 24px;\n    padding: 0;\n    background: none;\n    cursor: pointer;\n}\n\n.btn-add {\n    background: var(--interactive-accent);\n    color: white;\n    border: none;\n    border-radius: 8px;\n    padding: 8px 16px;\n    font-weight: 700;\n    cursor: pointer;\n    flex-grow: 1;\n}\n\n.expense-list {\n    max-height: 200px;\n    overflow-y: auto;\n    margin-bottom: 1rem;\n    display: grid;\n    gap: 8px;\n}\n\n.expense-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 12px;\n    background: var(--background-primary-alt);\n    border-radius: 10px;\n    border: 1px solid var(--divider-color);\n    border-left: 4px solid transparent;\n}\n\n.exp-info { display: flex; flex-direction: column; }\n.exp-title { font-weight: 600; font-size: 0.9rem; }\n.exp-date { font-size: 0.7rem; color: var(--text-muted); }\n\n.exp-right { display: flex; align-items: center; gap: 12px; }\n.exp-val { font-weight: 700; color: var(--text-error); }\n.btn-del { background: none; border: none; color: var(--text-error); cursor: pointer; opacity: 0.5; font-size: 1rem; }\n.btn-del:hover { opacity: 1; }\n\n.footer-actions { text-align: right; }\n.btn-clear { \n    background: none; \n    border: none; \n    color: var(--text-muted); \n    font-size: 0.75rem; \n    cursor: pointer; \n    text-decoration: underline; \n}\n.btn-clear:hover { color: var(--text-error); }",
  "js": "var expenses = [];\n\nfunction render() {\n    var list = api.root.getElementById('expense-list');\n    var totalEl = api.root.getElementById('total-amount');\n    list.innerHTML = '';\n    \n    var total = 0;\n    expenses.forEach(function(exp, idx) {\n        total += parseFloat(exp.amount);\n        var item = document.createElement('div');\n        item.className = 'expense-item';\n        if (exp.color) {\n            item.style.borderLeftColor = exp.color;\n        }\n        item.innerHTML = '<div class=\"exp-info\"><span class=\"exp-title\">' + exp.name + '</span><span class=\"exp-date\">' + exp.date + '</span></div><div class=\"exp-right\"><span class=\"exp-val\">-$' + parseFloat(exp.amount).toFixed(2) + '</span><button class=\"btn-del\">Ã—</button></div>';\n        \n        item.querySelector('.btn-del').onclick = function() { deleteExpense(idx); };\n        list.appendChild(item);\n    });\n    \n    totalEl.innerText = '$' + total.toFixed(2);\n}\n\nfunction addExpense() {\n    var nameInput = api.root.getElementById('exp-name');\n    var amountInput = api.root.getElementById('exp-amount');\n    var useColor = api.root.getElementById('use-color');\n    var colorInput = api.root.getElementById('exp-color');\n    \n    var name = nameInput.value.trim();\n    var amount = parseFloat(amountInput.value);\n    var color = useColor.checked ? colorInput.value : null;\n    \n    if (name && !isNaN(amount)) {\n        expenses.unshift({\n            name: name,\n            amount: amount,\n            date: new Date().toLocaleString(),\n            color: color\n        });\n        nameInput.value = '';\n        amountInput.value = '';\n        render();\n        api.saveState(expenses);\n    }\n}\n\nfunction deleteExpense(idx) {\n    expenses.splice(idx, 1);\n    render();\n    api.saveState(expenses);\n}\n\nfunction clearAll() {\n    var btn = api.root.getElementById('btn-clear');\n    if (btn.innerText === 'Clear All') {\n        btn.innerText = 'Confirm Clear?';\n        btn.style.color = 'var(--text-error)';\n        setTimeout(function() {\n            if (btn.innerText === 'Confirm Clear?') {\n                btn.innerText = 'Clear All';\n                btn.style.color = '';\n            }\n        }, 3000);\n    } else {\n        expenses = [];\n        render();\n        api.saveState(expenses);\n        btn.innerText = 'Clear All';\n        btn.style.color = '';\n    }\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved) expenses = saved;\n    \n    api.root.getElementById('btn-add').onclick = addExpense;\n    api.root.getElementById('btn-clear').onclick = clearAll;\n    api.root.getElementById('exp-name').onkeydown = function(e) { if (e.key === 'Enter') addExpense(); };\n    api.root.getElementById('exp-amount').onkeydown = function(e) { if (e.key === 'Enter') addExpense(); };\n    \n    render();\n}\n\ninit();",
  "tags": [
    "finance",
    "tracker",
    "budget"
  ]
}