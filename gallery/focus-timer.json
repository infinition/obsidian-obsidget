{
  "id": "focus-timer",
  "name": "Focus Timer",
  "description": "A simple and elegant focus timer.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"focus-widget\">\n  <div class=\"widget-header\">\n    <h4 class=\"widget-title\">ðŸ§˜ Focus Studio Pro</h4>\n    <div class=\"session-stats\" id=\"session-stats\">Session #1</div>\n  </div>\n\n  <div class=\"timer-container\">\n    <svg class=\"progress-ring\" width=\"200\" height=\"200\">\n      <circle class=\"progress-ring__background\" stroke=\"var(--background-modifier-border)\" stroke-width=\"8\" fill=\"transparent\" r=\"90\" cx=\"100\" cy=\"100\"/>\n      <circle class=\"progress-ring__circle\" id=\"progress-circle\" stroke=\"var(--interactive-accent)\" stroke-width=\"8\" stroke-linecap=\"round\" fill=\"transparent\" r=\"90\" cx=\"100\" cy=\"100\"/>\n    </svg>\n    <div class=\"timer-content\">\n      <div class=\"timer-display\" id=\"timer-display\">25:00</div>\n      <div class=\"timer-status\" id=\"timer-status\">READY</div>\n    </div>\n  </div>\n\n  <div class=\"settings-group\" id=\"settings-group\">\n    <div class=\"slider-header\">\n      <label>Duration</label>\n      <span class=\"slider-value\" id=\"slider-value\">25 min</span>\n    </div>\n    <input type=\"range\" id=\"time-slider\" min=\"1\" max=\"120\" value=\"25\" class=\"modern-range\">\n  </div>\n\n  <div class=\"controls\">\n    <button class=\"btn-main\" id=\"btn-toggle\">START FOCUS</button>\n    <button class=\"btn-icon\" id=\"btn-reset\" title=\"Reset Timer\">ðŸ”„</button>\n  </div>\n\n  <div id=\"toast\" class=\"toast\">Focus Session Complete! âœ¨</div>\n</div>",
  "css": ":host { display: block; font-family: var(--font-interface); }\n* { box-sizing: border-box; }\n\n.focus-widget {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 30px;\n    padding: 2rem;\n    color: var(--text-normal);\n    box-shadow: var(--shadow-s);\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1.5rem;\n    position: relative;\n    overflow: hidden;\n}\n\n.widget-header {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.widget-title {\n    margin: 0;\n    font-size: 0.8rem;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.1em;\n    color: var(--text-muted);\n}\n\n.session-stats {\n    font-size: 0.65rem;\n    font-weight: 800;\n    color: var(--interactive-accent);\n    background: rgba(var(--interactive-accent-rgb), 0.1);\n    padding: 2px 10px;\n    border-radius: 10px;\n}\n\n.timer-container {\n    position: relative;\n    width: 200px;\n    height: 200px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.progress-ring {\n    transform: rotate(-90deg);\n    filter: drop-shadow(0 0 10px rgba(var(--interactive-accent-rgb), 0.2));\n}\n\n.progress-ring__circle {\n    transition: stroke-dashoffset 0.3s linear;\n    stroke-dasharray: 565.48; /* 2 * PI * 90 */\n    stroke-dashoffset: 0;\n}\n\n.timer-content {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n.timer-display {\n    font-size: 3rem;\n    font-weight: 900;\n    font-family: var(--font-monospace);\n    color: var(--text-normal);\n    line-height: 1;\n}\n\n.timer-status {\n    font-size: 0.65rem;\n    font-weight: 800;\n    letter-spacing: 0.2em;\n    color: var(--text-muted);\n    margin-top: 4px;\n}\n\n.settings-group {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    transition: opacity 0.3s, transform 0.3s;\n}\n\n.settings-group.hidden {\n    opacity: 0;\n    pointer-events: none;\n    transform: translateY(10px);\n}\n\n.slider-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.slider-header label {\n    font-size: 0.7rem;\n    font-weight: 700;\n    color: var(--text-muted);\n    text-transform: uppercase;\n}\n\n.slider-value {\n    font-size: 0.85rem;\n    font-weight: 800;\n    color: var(--interactive-accent);\n}\n\n.modern-range {\n    -webkit-appearance: none;\n    width: 100%;\n    height: 6px;\n    background: var(--background-modifier-border);\n    border-radius: 3px;\n    outline: none;\n}\n\n.modern-range::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    width: 18px;\n    height: 18px;\n    background: var(--interactive-accent);\n    border-radius: 50%;\n    cursor: pointer;\n    box-shadow: 0 0 10px rgba(var(--interactive-accent-rgb), 0.4);\n    transition: transform 0.2s;\n}\n\n.modern-range::-webkit-slider-thumb:hover { transform: scale(1.2); }\n\n.controls {\n    width: 100%;\n    display: flex;\n    gap: 12px;\n}\n\n.btn-main {\n    flex: 1;\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    border: none;\n    padding: 14px;\n    border-radius: 16px;\n    font-size: 0.85rem;\n    font-weight: 800;\n    cursor: pointer;\n    transition: all 0.2s;\n    box-shadow: 0 4px 0 rgba(0,0,0,0.1);\n}\n.btn-main:hover { filter: brightness(1.1); transform: translateY(-1px); }\n.btn-main:active { transform: translateY(1px); box-shadow: none; }\n\n.btn-icon {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 16px;\n    width: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.btn-icon:hover { background: var(--background-modifier-hover); }\n\n.toast {\n    position: absolute;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%) translateY(-100px);\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    padding: 10px 20px;\n    border-radius: 20px;\n    font-size: 0.85rem;\n    font-weight: 700;\n    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    z-index: 100;\n    box-shadow: var(--shadow-l);\n}\n.toast.show { transform: translateX(-50%) translateY(0); }",
  "js": "const { root, saveState, getState } = api;\n\nlet timeLeft = 25 * 60;\nlet totalTime = 25 * 60;\nlet timerId = null;\nlet sessionCount = 1;\n\nconst CIRCUMFERENCE = 2 * Math.PI * 90;\n\nfunction updateUI() {\n    const display = root.getElementById('timer-display');\n    const status = root.getElementById('timer-status');\n    const circle = root.getElementById('progress-circle');\n    const sliderValue = root.getElementById('slider-value');\n    const slider = root.getElementById('time-slider');\n    const stats = root.getElementById('session-stats');\n\n    const mins = Math.floor(timeLeft / 60);\n    const secs = timeLeft % 60;\n    if (display) display.innerText = `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n\n    if (circle) {\n        const offset = CIRCUMFERENCE - (timeLeft / totalTime) * CIRCUMFERENCE;\n        circle.style.strokeDashoffset = offset;\n    }\n\n    if (status) {\n        if (timerId) status.innerText = 'FOCUSING...';\n        else if (timeLeft === totalTime) status.innerText = 'READY';\n        else status.innerText = 'PAUSED';\n    }\n\n    if (sliderValue && !timerId) {\n        sliderValue.innerText = `${slider.value} min`;\n    }\n\n    if (stats) stats.innerText = `Session #${sessionCount}`;\n}\n\nfunction toggleTimer() {\n    const btn = root.getElementById('btn-toggle');\n    const settings = root.getElementById('settings-group');\n\n    if (timerId) {\n        // Pause\n        clearInterval(timerId);\n        timerId = null;\n        btn.innerText = 'RESUME FOCUS';\n        if (settings) settings.classList.remove('hidden');\n    } else {\n        // Start\n        if (timeLeft <= 0) resetTimer();\n        \n        timerId = setInterval(() => {\n            timeLeft--;\n            if (timeLeft <= 0) {\n                completeSession();\n            }\n            updateUI();\n        }, 1000);\n        \n        btn.innerText = 'PAUSE';\n        if (settings) settings.classList.add('hidden');\n    }\n    updateUI();\n}\n\nfunction resetTimer() {\n    clearInterval(timerId);\n    timerId = null;\n    const slider = root.getElementById('time-slider');\n    totalTime = parseInt(slider.value) * 60;\n    timeLeft = totalTime;\n    \n    const btn = root.getElementById('btn-toggle');\n    const settings = root.getElementById('settings-group');\n    if (btn) btn.innerText = 'START FOCUS';\n    if (settings) settings.classList.remove('hidden');\n    \n    updateUI();\n}\n\nfunction completeSession() {\n    clearInterval(timerId);\n    timerId = null;\n    sessionCount++;\n    showToast();\n    resetTimer();\n    save();\n}\n\nfunction showToast() {\n    const toast = root.getElementById('toast');\n    if (toast) {\n        toast.classList.add('show');\n        setTimeout(() => toast.classList.remove('show'), 4000);\n    }\n}\n\nfunction save() {\n    saveState({ totalTime, sessionCount });\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        if (saved.totalTime) {\n            totalTime = saved.totalTime;\n            timeLeft = totalTime;\n            root.getElementById('time-slider').value = totalTime / 60;\n        }\n        if (saved.sessionCount) sessionCount = saved.sessionCount;\n    }\n\n    const slider = root.getElementById('time-slider');\n    slider.oninput = () => {\n        if (!timerId) {\n            totalTime = parseInt(slider.value) * 60;\n            timeLeft = totalTime;\n            updateUI();\n        }\n    };\n    slider.onchange = () => save();\n\n    root.getElementById('btn-toggle').onclick = toggleTimer;\n    root.getElementById('btn-reset').onclick = resetTimer;\n\n    updateUI();\n}\n\ninit();",
  "tags": [
    "productivity",
    "time",
    "focus",
    "premium",
    "zen"
  ]
}