{
  "id": "focus-timer",
  "name": "Focus Timer",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">⏱️ Focus Timer</h4>\n  <div class=\"timer-display\" id=\"timer\">25:00</div>\n  <div class=\"progress-bg\">\n    <div id=\"t-progress\" class=\"t-fill\"></div>\n  </div>\n  <div class=\"controls\">\n    <button class=\"btn-timer\" id=\"btn-toggle\">Démarrer</button>\n    <button class=\"btn-timer btn-secondary\" id=\"btn-reset\">Reset</button>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #1e1e2e; /* Dark theme for timer */\n    color: #cdd6f4;\n    border-radius: 16px;\n    padding: 1.5rem;\n    text-align: center;\n    box-shadow: 0 8px 24px rgba(0,0,0,0.2);\n}\n.widget-title { color: #f38ba8; margin-bottom: 1rem; }\n.timer-display { \n    font-size: 3.5rem; \n    font-weight: 800; \n    font-family: var(--font-monospace);\n    margin: 0.5rem 0;\n    color: #f38ba8;\n}\n.progress-bg { \n    background: #313244; \n    height: 8px; \n    border-radius: 4px; \n    margin: 1.5rem 0; \n    overflow: hidden;\n}\n.t-fill { \n    height: 100%; \n    width: 0%; \n    background: #f38ba8; \n    transition: width 1s linear; \n}\n.controls { display: flex; justify-content: center; gap: 12px; }\n.btn-timer {\n    background: #f38ba8;\n    color: #1e1e2e;\n    border: none;\n    padding: 10px 24px;\n    border-radius: 10px;\n    font-weight: 700;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.btn-timer:hover { transform: translateY(-2px); filter: brightness(1.1); }\n.btn-secondary { background: #45475a; color: #cdd6f4; }",
  "js": "var timeLeft = 25 * 60;\nvar totalTime = 25 * 60;\nvar timerId = null;\n\nfunction updateUI() {\n    var mins = Math.floor(timeLeft / 60);\n    var secs = timeLeft % 60;\n    api.root.getElementById('timer').innerText = mins + ':' + (secs < 10 ? '0' : '') + secs;\n    api.root.getElementById('t-progress').style.width = ((totalTime - timeLeft) / totalTime * 100) + '%';\n}\n\nfunction toggleTimer() {\n    var btnToggle = api.root.getElementById('btn-toggle');\n    if (timerId) {\n        clearInterval(timerId);\n        timerId = null;\n        btnToggle.innerText = 'Reprendre';\n    } else {\n        btnToggle.innerText = 'Pause';\n        timerId = setInterval(function() {\n            timeLeft--;\n            updateUI();\n            if (timeLeft <= 0) {\n                clearInterval(timerId);\n                timerId = null;\n                btnToggle.innerText = 'Terminé';\n            }\n        }, 1000);\n    }\n}\n\nfunction resetTimer() {\n    clearInterval(timerId);\n    timerId = null;\n    timeLeft = totalTime;\n    api.root.getElementById('btn-toggle').innerText = 'Démarrer';\n    updateUI();\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved && saved.totalTime) {\n        totalTime = saved.totalTime;\n        timeLeft = totalTime;\n    }\n    \n    api.root.getElementById('btn-toggle').onclick = toggleTimer;\n    api.root.getElementById('btn-reset').onclick = resetTimer;\n    \n    updateUI();\n}\n\ninit();",
  "tags": [
    "productivity",
    "time",
    "focus"
  ]
}