{
  "id": "tableau-dynamique",
  "name": "Tableau Dynamique",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ“Š Tableau Dynamique</h4>\n  <div class=\"controls\">\n    <button class=\"btn-small\" id=\"btn-add-row\">+ Ligne</button>\n    <button class=\"btn-small\" id=\"btn-add-col\">+ Col</button>\n    <button class=\"btn-small btn-danger\" id=\"btn-reset\">RÃ©initialiser</button>\n  </div>\n  <div class=\"table-wrapper\">\n    <table id=\"my-table\"></table>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: var(--background-secondary);\n    border: 1px solid var(--divider-color);\n    border-radius: 12px;\n    padding: 1.25rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n}\n.widget-title {\n    margin: 0 0 1.25rem 0;\n    font-size: 0.9rem;\n    font-weight: 600;\n    color: var(--text-accent);\n    text-align: center;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n}\n.controls { display: flex; gap: 8px; margin-bottom: 1rem; justify-content: center; }\n.btn-small {\n    background: var(--interactive-accent);\n    color: white;\n    border: none;\n    padding: 6px 12px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 0.75rem;\n    font-weight: 600;\n    transition: filter 0.2s;\n}\n.btn-small:hover { filter: brightness(1.1); }\n.btn-danger { background: var(--text-error); opacity: 0.8; }\n.btn-danger:hover { opacity: 1; }\n\n.table-wrapper { \n    overflow-x: auto; \n    border-radius: 8px;\n    border: 1px solid var(--divider-color);\n}\ntable { width: 100%; border-collapse: collapse; background: var(--background-primary); }\nth, td { \n    border: 1px solid var(--divider-color); \n    padding: 0;\n}\nth { background: var(--background-secondary-alt); }\ninput {\n    width: 100%;\n    border: none;\n    background: transparent;\n    color: var(--text-normal);\n    outline: none;\n    padding: 8px;\n    font-size: 0.85rem;\n    text-align: center;\n}\ninput:focus { background: var(--background-modifier-hover); }",
  "js": "var data = [['Titre 1', 'Titre 2'], ['', '']];\n\nfunction render() {\n    var table = api.root.getElementById('my-table');\n    table.innerHTML = '';\n    data.forEach(function(rowData, rowIndex) {\n        var tr = document.createElement('tr');\n        rowData.forEach(function(cellData, colIndex) {\n            var cell = document.createElement(rowIndex === 0 ? 'th' : 'td');\n            var input = document.createElement('input');\n            input.value = cellData;\n            input.oninput = function(e) {\n                data[rowIndex][colIndex] = e.target.value;\n                api.saveState(data);\n            };\n            cell.appendChild(input);\n            tr.appendChild(cell);\n        });\n        table.appendChild(tr);\n    });\n}\n\nfunction addRow() {\n    var newRow = new Array(data[0].length).fill('');\n    data.push(newRow);\n    render();\n    api.saveState(data);\n}\n\nfunction addCol() {\n    data.forEach(function(row) { row.push(''); });\n    render();\n    api.saveState(data);\n}\n\nfunction resetTable() {\n    data = [['Titre 1', 'Titre 2'], ['', '']];\n    render();\n    api.saveState(data);\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved) data = saved;\n    \n    api.root.getElementById('btn-add-row').onclick = addRow;\n    api.root.getElementById('btn-add-col').onclick = addCol;\n    api.root.getElementById('btn-reset').onclick = resetTable;\n    \n    render();\n}\n\ninit();",
  "tags": [
    "data",
    "table",
    "organization"
  ]
}