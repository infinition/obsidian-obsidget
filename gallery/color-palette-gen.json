{
  "id": "color-palette-gen",
  "name": "Color Palette Generator",
  "description": "Generate beautiful color palettes for your projects.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"palette-widget\">\n  <div class=\"widget-header\">\n    <h4 class=\"widget-title\">üé® Palette Studio</h4>\n    <button id=\"btn-edit-mode\" class=\"edit-toggle-btn\" onclick=\"toggleEditMode()\" title=\"Toggle Edit Mode\">Edit</button>\n  </div>\n  \n  <div class=\"main-palette\" id=\"palette\"></div>\n\n  <div class=\"controls\">\n    <button class=\"btn-gen\" id=\"btn-gen\">Generate</button>\n    <button class=\"btn-save-p\" id=\"btn-save-p\" title=\"Save Palette\">üíæ</button>\n  </div>\n\n  <div class=\"favorites-section\" id=\"favorites-section\" style=\"display: none;\">\n    <div class=\"fav-header\">\n      <span>Favorites</span>\n      <button class=\"btn-clear-fav\" id=\"btn-clear-fav\">Clear All</button>\n    </div>\n    <div class=\"fav-list\" id=\"fav-list\"></div>\n  </div>\n\n  <div class=\"saved-palettes-section\" id=\"saved-palettes-section\" style=\"display: none;\">\n    <div class=\"fav-header\">\n      <span>Saved Palettes</span>\n    </div>\n    <div class=\"palettes-list\" id=\"palettes-list\"></div>\n  </div>\n\n  <div class=\"toast\" id=\"toast\">Copied!</div>\n</div>",
  "css": ":host { display: block; font-family: var(--font-interface); }\n* { box-sizing: border-box; }\n\n.palette-widget {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 16px;\n    padding: 1.25rem;\n    color: var(--text-normal);\n    box-shadow: var(--shadow-s);\n    position: relative;\n    width: 100%;\n}\n\n.widget-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1.25rem;\n}\n\n.widget-title {\n    margin: 0;\n    font-size: 0.85rem;\n    font-weight: 600;\n    color: var(--text-muted);\n    text-transform: uppercase;\n    letter-spacing: 0.1em;\n}\n\n.edit-toggle-btn {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    color: var(--text-muted);\n    font-size: 0.65rem;\n    padding: 2px 8px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-weight: 600;\n    text-transform: uppercase;\n}\n.edit-toggle-btn.active {\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    border-color: var(--interactive-accent);\n}\n\n.main-palette {\n    display: flex;\n    height: 120px;\n    border-radius: 12px;\n    overflow: hidden;\n    margin-bottom: 1rem;\n    border: 1px solid var(--background-modifier-border);\n    box-shadow: var(--shadow-m);\n}\n\n.color-swatch {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-end;\n    padding-bottom: 10px;\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n}\n.color-swatch:hover { flex: 2; }\n\n.swatch-actions {\n    display: flex;\n    gap: 4px;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: all 0.2s ease;\n}\n.color-swatch:hover .swatch-actions {\n    opacity: 1;\n    transform: translateY(0);\n}\n\n.swatch-btn {\n    background: rgba(0,0,0,0.4);\n    color: white;\n    border: none;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    font-size: 0.7rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    backdrop-filter: blur(4px);\n}\n.swatch-btn:hover { background: rgba(0,0,0,0.6); }\n\n.color-code {\n    font-size: 0.6rem;\n    font-weight: 700;\n    color: white;\n    background: rgba(0,0,0,0.3);\n    padding: 2px 6px;\n    border-radius: 4px;\n    margin-top: 4px;\n    opacity: 0;\n    transition: opacity 0.2s;\n}\n.color-swatch:hover .color-code { opacity: 1; }\n\n.controls {\n    display: flex;\n    gap: 8px;\n    margin-bottom: 1rem;\n}\n\n.btn-gen {\n    flex: 1;\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    border: none;\n    padding: 10px;\n    border-radius: 8px;\n    font-weight: 600;\n    font-size: 0.85rem;\n    cursor: pointer;\n    transition: opacity 0.2s;\n}\n.btn-gen:hover { opacity: 0.9; }\n\n.btn-save-p {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    color: var(--text-normal);\n    width: 40px;\n    border-radius: 8px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1rem;\n}\n.btn-save-p:hover { background: var(--background-modifier-hover); }\n\n/* Favorites & Saved Palettes */\n.favorites-section, .saved-palettes-section {\n    background: var(--background-primary);\n    border-radius: 10px;\n    padding: 10px;\n    margin-top: 10px;\n    border: 1px solid var(--background-modifier-border);\n}\n\n.fav-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n    font-size: 0.7rem;\n    font-weight: 700;\n    color: var(--text-muted);\n    text-transform: uppercase;\n}\n\n.btn-clear-fav {\n    background: none;\n    border: none;\n    color: var(--text-error);\n    font-size: 0.6rem;\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n.fav-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n}\n\n.fav-item {\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    border: 1px solid var(--background-modifier-border);\n    cursor: pointer;\n    position: relative;\n    transition: transform 0.1s;\n}\n.fav-item:hover { transform: scale(1.1); }\n\n/* Edit Mode Overlays */\n.edit-mode .fav-item:hover::after {\n    content: '‚úï';\n    position: absolute;\n    inset: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(239, 68, 68, 0.8);\n    color: white;\n    font-size: 0.6rem;\n    border-radius: 50%;\n}\n\n.palettes-list {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.saved-palette-row {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.saved-palette-item {\n    display: flex;\n    flex: 1;\n    height: 24px;\n    border-radius: 6px;\n    overflow: hidden;\n    border: 1px solid var(--background-modifier-border);\n    position: relative;\n}\n\n.mini-swatch {\n    flex: 1;\n    height: 100%;\n    cursor: pointer;\n    transition: flex 0.2s;\n}\n.mini-swatch:hover { flex: 1.5; }\n\n.btn-restore-p {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    color: var(--text-muted);\n    width: 24px;\n    height: 24px;\n    border-radius: 4px;\n    font-size: 0.7rem;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.btn-restore-p:hover { background: var(--background-modifier-hover); color: var(--interactive-accent); }\n\n.btn-delete-p {\n    display: none;\n    background: var(--background-modifier-error);\n    color: white;\n    border: none;\n    width: 24px;\n    height: 24px;\n    border-radius: 4px;\n    font-size: 0.7rem;\n    cursor: pointer;\n    align-items: center;\n    justify-content: center;\n}\n.edit-mode .btn-delete-p { display: flex; }\n.edit-mode .btn-restore-p { display: none; }\n\n.toast {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: var(--text-success);\n    color: white;\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    opacity: 0;\n    transition: all 0.3s;\n    pointer-events: none;\n    z-index: 10;\n    box-shadow: var(--shadow-l);\n}",
  "js": "const { root, saveState, getState } = api;\nlet state = {\n    current: ['#264653', '#2a9d8f', '#e9c46a', '#f4a261', '#e76f51'],\n    favorites: [],\n    palettes: []\n};\nlet isEditMode = false;\n\nfunction toggleEditMode() {\n    isEditMode = !isEditMode;\n    const btn = root.getElementById('btn-edit-mode');\n    btn.classList.toggle('active', isEditMode);\n    btn.innerText = isEditMode ? 'Done' : 'Edit';\n    root.querySelector('.palette-widget').classList.toggle('edit-mode', isEditMode);\n    render();\n}\n\nfunction render() {\n    const container = root.getElementById('palette');\n    container.innerHTML = '';\n    state.current.forEach(c => {\n        const swatch = document.createElement('div');\n        swatch.className = 'color-swatch';\n        swatch.style.background = c;\n        swatch.innerHTML = `\n            <div class=\"swatch-actions\">\n                <button class=\"swatch-btn btn-copy\" title=\"Copy\">üìã</button>\n                <button class=\"swatch-btn btn-fav\" title=\"Favorite\">‚ù§Ô∏è</button>\n            </div>\n            <span class=\"color-code\">${c.toUpperCase()}</span>\n        `;\n        swatch.querySelector('.btn-copy').onclick = (e) => { e.stopPropagation(); copy(c); };\n        swatch.querySelector('.btn-fav').onclick = (e) => { e.stopPropagation(); addFav(c); };\n        swatch.onclick = () => copy(c);\n        container.appendChild(swatch);\n    });\n\n    const favSection = root.getElementById('favorites-section');\n    const favList = root.getElementById('fav-list');\n    if (state.favorites.length > 0) {\n        favSection.style.display = 'block';\n        favList.innerHTML = '';\n        state.favorites.forEach((c, idx) => {\n            const item = document.createElement('div');\n            item.className = 'fav-item';\n            item.style.background = c;\n            item.title = isEditMode ? 'Click to Delete' : 'Click to Copy: ' + c;\n            item.onclick = () => isEditMode ? removeFav(idx) : copy(c);\n            favList.appendChild(item);\n        });\n    } else {\n        favSection.style.display = 'none';\n    }\n\n    const palSection = root.getElementById('saved-palettes-section');\n    const palList = root.getElementById('palettes-list');\n    if (state.palettes.length > 0) {\n        palSection.style.display = 'block';\n        palList.innerHTML = '';\n        state.palettes.forEach((p, idx) => {\n            const row = document.createElement('div');\n            row.className = 'saved-palette-row';\n            const item = document.createElement('div');\n            item.className = 'saved-palette-item';\n            item.innerHTML = p.map(c => `<div class=\"mini-swatch\" style=\"background:${c}\" title=\"Copy: ${c}\"></div>`).join('');\n            item.querySelectorAll('.mini-swatch').forEach((s, sIdx) => {\n                s.onclick = (e) => {\n                    if (!isEditMode) {\n                        e.stopPropagation();\n                        copy(p[sIdx]);\n                    }\n                };\n            });\n            const restoreBtn = document.createElement('button');\n            restoreBtn.className = 'btn-restore-p';\n            restoreBtn.innerHTML = 'üîÑ';\n            restoreBtn.title = 'Restore Palette';\n            restoreBtn.onclick = () => restorePalette(idx);\n            const deleteBtn = document.createElement('button');\n            deleteBtn.className = 'btn-delete-p';\n            deleteBtn.innerHTML = '‚úï';\n            deleteBtn.title = 'Delete Palette';\n            deleteBtn.onclick = () => removePalette(idx);\n            row.appendChild(item);\n            row.appendChild(restoreBtn);\n            row.appendChild(deleteBtn);\n            palList.appendChild(row);\n        });\n    } else {\n        palSection.style.display = 'none';\n    }\n}\n\nfunction generate() {\n    state.current = [];\n    for (let i = 0; i < 5; i++) {\n        state.current.push('#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0'));\n    }\n    render();\n    saveState(state);\n}\n\nfunction addFav(color) {\n    if (!state.favorites.includes(color)) {\n        state.favorites.push(color);\n        render();\n        saveState(state);\n        showToast('Color added to favorites!');\n    }\n}\n\nfunction removeFav(idx) {\n    state.favorites.splice(idx, 1);\n    render();\n    saveState(state);\n}\n\nfunction saveCurrentPalette() {\n    state.palettes.unshift([...state.current]);\n    if (state.palettes.length > 20) state.palettes.pop();\n    render();\n    saveState(state);\n    showToast('Palette saved!');\n}\n\nfunction removePalette(idx) {\n    state.palettes.splice(idx, 1);\n    render();\n    saveState(state);\n}\n\nfunction restorePalette(idx) {\n    state.current = [...state.palettes[idx]];\n    render();\n    saveState(state);\n    showToast('Palette restored!');\n}\n\nfunction copy(text) {\n    navigator.clipboard.writeText(text).then(() => {\n        showToast('Copied: ' + text.toUpperCase());\n    });\n}\n\nfunction showToast(msg) {\n    const toast = root.getElementById('toast');\n    toast.innerText = msg;\n    toast.style.opacity = '1';\n    toast.style.transform = 'translate(-50%, -50%) scale(1.1)';\n    setTimeout(() => {\n        toast.style.opacity = '0';\n        toast.style.transform = 'translate(-50%, -50%) scale(1)';\n    }, 1500);\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved && saved.current) state = saved;\n    root.getElementById('btn-gen').onclick = generate;\n    root.getElementById('btn-save-p').onclick = saveCurrentPalette;\n    root.getElementById('btn-clear-fav').onclick = () => {\n        if (confirm('Clear all favorites?')) {\n            state.favorites = [];\n            render();\n            saveState(state);\n        }\n    };\n    render();\n}\n\ninit();",
  "tags": [
    "design",
    "tools",
    "creativity"
  ]
}