{
  "id": "morse-translator",
  "name": "Morse Code Translator",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ“¡ Morse Translator</h4>\n  \n  <div class=\"input-group\">\n    <label>Text</label>\n    <textarea id=\"text-in\" placeholder=\"Hello...\" oninput=\"toMorse()\"></textarea>\n  </div>\n\n  <div class=\"separator\">â†•</div>\n\n  <div class=\"input-group\">\n    <label>Morse</label>\n    <textarea id=\"morse-in\" placeholder=\".... . .-.. .-.. ---\" oninput=\"fromMorse()\"></textarea>\n  </div>\n\n  <button class=\"btn-play\" onclick=\"playMorse()\">ðŸ”Š Play Sound</button>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #171717;\n    color: #f5f5f5;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.5);\n    border: 1px solid #262626;\n    text-align: center;\n}\n.widget-title { margin: 0 0 1.5rem 0; font-size: 0.9rem; font-weight: 800; color: #fbbf24; text-transform: uppercase; letter-spacing: 2px; }\n\n.input-group { text-align: left; }\n.input-group label { display: block; font-size: 0.65rem; font-weight: 700; color: #fbbf24; margin-bottom: 4px; text-transform: uppercase; }\n.input-group textarea {\n    width: 100%;\n    height: 60px;\n    background: #262626;\n    border: 1px solid #404040;\n    color: white;\n    border-radius: 8px;\n    padding: 10px;\n    font-size: 0.85rem;\n    outline: none;\n    resize: none;\n    font-family: var(--font-monospace);\n}\n\n.separator { margin: 8px 0; font-size: 1.2rem; color: #404040; }\n\n.btn-play {\n    width: 100%;\n    background: #fbbf24;\n    color: #171717;\n    border: none;\n    padding: 10px;\n    border-radius: 8px;\n    font-weight: 800;\n    cursor: pointer;\n    margin-top: 1rem;\n}\n.btn-play:active { transform: scale(0.98); }",
  "js": "const { root, saveState, getState } = api;\n\nconst MORSE_CODE = {\n    'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.', 'G': '--.', 'H': '....',\n    'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..', 'M': '--', 'N': '-.', 'O': '---', 'P': '.--.',\n    'Q': '--.-', 'R': '.-.', 'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',\n    'Y': '-.--', 'Z': '--..', '1': '.----', '2': '..---', '3': '...--', '4': '....-', '5': '.....',\n    '6': '-....', '7': '--...', '8': '---..', '9': '----.', '0': '-----', ' ': '/'\n};\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        root.getElementById('text-in').value = saved;\n        toMorse();\n    }\n}\n\ntoMorse = async () => {\n    const text = root.getElementById('text-in').value.toUpperCase();\n    const morse = text.split('').map(char => MORSE_CODE[char] || '').join(' ');\n    root.getElementById('morse-in').value = morse;\n    await saveState(text);\n};\n\nfromMorse = () => {\n    const morse = root.getElementById('morse-in').value;\n    const reverseMap = Object.entries(MORSE_CODE).reduce((acc, [k, v]) => ({ ...acc, [v]: k }), {});\n    const text = morse.split(' ').map(code => reverseMap[code] || '').join('');\n    root.getElementById('text-in').value = text;\n};\n\nplayMorse = () => {\n    const morse = root.getElementById('morse-in').value;\n    const ctx = new (window.AudioContext || window.webkitAudioContext)();\n    let time = ctx.currentTime;\n\n    morse.split('').forEach(char => {\n        if (char === '.' || char === '-') {\n            const osc = ctx.createOscillator();\n            const gain = ctx.createGain();\n            osc.connect(gain);\n            gain.connect(ctx.destination);\n            \n            const duration = char === '.' ? 0.1 : 0.3;\n            osc.start(time);\n            osc.stop(time + duration);\n            time += duration + 0.1;\n        } else if (char === ' ') {\n            time += 0.2;\n        } else if (char === '/') {\n            time += 0.4;\n        }\n    });\n};\n\ninit();",
  "tags": [
    "tools",
    "encoding",
    "communication"
  ]
}