{
  "id": "morse-translator",
  "name": "Morse Code Translator",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ðŸ“¡ Morse Translator</h4>\n  \n  <div class=\"input-group\">\n    <label>Text</label>\n    <textarea id=\"text-in\" placeholder=\"Hello...\"></textarea>\n  </div>\n\n  <div class=\"separator\">â†•</div>\n\n  <div class=\"input-group\">\n    <label>Morse</label>\n    <textarea id=\"morse-in\" placeholder=\".... . .-.. .-.. ---\"></textarea>\n  </div>\n\n  <button id=\"btn-play\" class=\"btn-play\">ðŸ”Š Play Sound</button>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n* { box-sizing: border-box; }\n.widget-card {\n    display: block;\n    background: #171717;\n    color: #f5f5f5;\n    border-radius: 20px;\n    padding: 1.5rem;\n    box-shadow: 0 10px 25px rgba(0,0,0,0.5);\n    border: 1px solid #262626;\n    text-align: center;\n}\n.widget-title { display: block; margin: 0 0 1.5rem 0; font-size: 0.9rem; font-weight: 800; color: #fbbf24; text-transform: uppercase; letter-spacing: 2px; }\n\n.input-group { display: block; text-align: left; margin-bottom: 0.5rem; }\n.input-group label { display: block; font-size: 0.65rem; font-weight: 700; color: #fbbf24; margin-bottom: 4px; text-transform: uppercase; }\n.input-group textarea {\n    display: block;\n    width: 100%;\n    height: 60px;\n    background: #262626;\n    border: 1px solid #404040;\n    color: white;\n    border-radius: 8px;\n    padding: 10px;\n    font-size: 0.85rem;\n    outline: none;\n    resize: none;\n    font-family: var(--font-monospace);\n}\n.input-group textarea:focus { border-color: #fbbf24; }\n\n.separator { display: block; margin: 8px 0; font-size: 1.2rem; color: #404040; }\n\n.btn-play {\n    display: block;\n    width: 100%;\n    background: #fbbf24;\n    color: #171717;\n    border: none;\n    padding: 10px;\n    border-radius: 8px;\n    font-weight: 800;\n    cursor: pointer;\n    margin-top: 1rem;\n}\n.btn-play:active { transform: scale(0.98); }",
  "js": "var MORSE_CODE = {\n    'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.', 'G': '--.', 'H': '....',\n    'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..', 'M': '--', 'N': '-.', 'O': '---', 'P': '.--.',\n    'Q': '--.-', 'R': '.-.', 'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',\n    'Y': '-.--', 'Z': '--..', '1': '.----', '2': '..---', '3': '...--', '4': '....-', '5': '.....',\n    '6': '-....', '7': '--...', '8': '---..', '9': '----.', '0': '-----', ' ': '/'\n};\n\nvar REVERSE_MORSE = {};\nfor (var key in MORSE_CODE) {\n    REVERSE_MORSE[MORSE_CODE[key]] = key;\n}\n\nfunction toMorse() {\n    var textEl = api.root.getElementById('text-in');\n    var morseEl = api.root.getElementById('morse-in');\n    var text = textEl.value.toUpperCase();\n    var morse = text.split('').map(function(char) { return MORSE_CODE[char] || ''; }).join(' ');\n    morseEl.value = morse.trim();\n    api.saveState({ text: textEl.value });\n}\n\nfunction fromMorse() {\n    var textEl = api.root.getElementById('text-in');\n    var morseEl = api.root.getElementById('morse-in');\n    var morse = morseEl.value.trim();\n    var text = morse.split(' ').map(function(code) { return REVERSE_MORSE[code] || ''; }).join('');\n    textEl.value = text;\n    api.saveState({ text: textEl.value });\n}\n\nfunction playMorse() {\n    var morseEl = api.root.getElementById('morse-in');\n    var morse = morseEl.value;\n    if (!morse) return;\n    \n    var ctx = new (window.AudioContext || window.webkitAudioContext)();\n    var time = ctx.currentTime;\n\n    morse.split('').forEach(function(char) {\n        if (char === '.' || char === '-') {\n            var osc = ctx.createOscillator();\n            var gain = ctx.createGain();\n            osc.type = 'sine';\n            osc.frequency.setValueAtTime(600, time);\n            \n            osc.connect(gain);\n            gain.connect(ctx.destination);\n            \n            var duration = char === '.' ? 0.1 : 0.3;\n            \n            gain.gain.setValueAtTime(0.1, time);\n            gain.gain.exponentialRampToValueAtTime(0.0001, time + duration);\n\n            osc.start(time);\n            osc.stop(time + duration);\n            time += duration + 0.1;\n        } else if (char === ' ') {\n            time += 0.2;\n        } else if (char === '/') {\n            time += 0.4;\n        }\n    });\n}\n\nasync function init() {\n    var saved = await api.getState();\n    if (saved && saved.text) {\n        api.root.getElementById('text-in').value = saved.text;\n        toMorse();\n    }\n    \n    api.root.getElementById('text-in').oninput = toMorse;\n    api.root.getElementById('morse-in').oninput = fromMorse;\n    api.root.getElementById('btn-play').onclick = playMorse;\n}\n\ninit();",
  "tags": [
    "tools",
    "encoding",
    "communication"
  ]
}