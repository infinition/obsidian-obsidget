{
  "id": "token-estimator",
  "name": "Token Estimator",
  "html": "<div class=\"widget-card\">\n  <h4 class=\"widget-title\">ü§ñ Token & Cost Estimator</h4>\n  <textarea id=\"prompt-input\" placeholder=\"Collez votre texte ici pour estimer le co√ªt...\"></textarea>\n  \n  <div class=\"results-grid\">\n    <div class=\"res-item\">\n      <span class=\"res-label\">Tokens</span>\n      <span class=\"res-val\" id=\"tok-count\">0</span>\n    </div>\n    <div class=\"res-item\">\n      <span class=\"res-label\">Co√ªt Est. ($)</span>\n      <span class=\"res-val\" id=\"cost\">0.0000</span>\n    </div>\n  </div>\n  \n  <div class=\"model-picker\">\n    <label>Mod√®le IA</label>\n    <select id=\"model-select\" onchange=\"api.call('estimate')\">\n      <option value=\"15\">GPT-4o ($15/M)</option>\n      <option value=\"3\">GPT-4o-mini ($3/M)</option>\n      <option value=\"15\">Claude 3.5 Sonnet ($15/M)</option>\n      <option value=\"0.1\">Llama 3 70B ($0.1/M)</option>\n    </select>\n  </div>\n</div>",
  "css": ":host { display: block; margin: 1.5rem 0; font-family: var(--font-interface); }\n.widget-card {\n    background: #1a1b26; /* Dark terminal style */\n    color: #a9b1d6;\n    border-radius: 12px;\n    padding: 1.25rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n}\n.widget-title { margin: 0 0 1rem 0; font-size: 0.9rem; font-weight: 600; color: #7aa2f7; text-align: center; text-transform: uppercase; letter-spacing: 0.05em; }\n\ntextarea {\n    width: 100%; \n    height: 100px; \n    background: #24283b; \n    color: #c0caf5;\n    border: 1px solid #414868; \n    border-radius: 8px; \n    padding: 10px; \n    font-size: 0.85rem;\n    outline: none;\n    resize: none;\n    font-family: var(--font-monospace);\n}\ntextarea:focus { border-color: #7aa2f7; }\n\n.results-grid { \n    display: grid; \n    grid-template-columns: 1fr 1fr; \n    gap: 12px; \n    margin: 1.25rem 0; \n}\n.res-item { \n    background: #24283b; \n    padding: 10px; \n    border-radius: 8px; \n    text-align: center;\n    border: 1px solid #414868;\n}\n.res-label { display: block; font-size: 0.65rem; font-weight: 700; color: #565f89; text-transform: uppercase; margin-bottom: 4px; }\n.res-val { font-size: 1.1rem; font-weight: 800; color: #7aa2f7; }\n\n.model-picker { display: flex; flex-direction: column; gap: 6px; }\n.model-picker label { font-size: 0.65rem; font-weight: 700; color: #565f89; text-transform: uppercase; }\nselect { \n    background: #414868; \n    color: white; \n    border: none; \n    padding: 8px; \n    border-radius: 6px;\n    font-size: 0.85rem;\n    outline: none;\n}",
  "js": "const { root, saveState, getState } = api;\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        if (saved.text) root.getElementById('prompt-input').value = saved.text;\n        if (saved.model) root.getElementById('model-select').value = saved.model;\n    }\n    estimate();\n}\n\nestimate = async () => {\n    const text = root.getElementById('prompt-input').value;\n    const modelSelect = root.getElementById('model-select');\n    const pricePerMillion = parseFloat(modelSelect.value);\n    \n    const tokens = Math.ceil(text.length / 4);\n    const cost = (tokens / 1000000 * pricePerMillion).toFixed(4);\n    \n    root.getElementById('tok-count').innerText = tokens;\n    root.getElementById('cost').innerText = cost;\n    await saveState({ text, model: modelSelect.value });\n};\n\nroot.getElementById('prompt-input').oninput = estimate;\n\ninit();",
  "tags": [
    "ai",
    "development",
    "tools"
  ]
}