{
  "id": "data-converter",
  "name": "Universal Data Studio",
  "description": "Convert data between JSON, CSV, YAML, and XML formats.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"data-studio\">\n  <div class=\"widget-header\">\n    <h4 class=\"widget-title\">ðŸ’¾ Data Studio</h4>\n    <div class=\"tab-bar\">\n      <button class=\"tab-btn active\" id=\"tab-storage\">Storage</button>\n      <button class=\"tab-btn\" id=\"tab-format\">Format</button>\n    </div>\n  </div>\n\n  <div class=\"studio-content\">\n    <!-- Storage Converter Section -->\n    <div id=\"section-storage\" class=\"section active\">\n      <div class=\"input-card\">\n        <div class=\"input-row\">\n          <input type=\"number\" id=\"storage-val\" value=\"1024\" placeholder=\"0\">\n          <select id=\"storage-unit\">\n            <option value=\"1\">B</option>\n            <option value=\"1024\">KB</option>\n            <option value=\"1048576\" selected>MB</option>\n            <option value=\"1073741824\">GB</option>\n            <option value=\"1099511627776\">TB</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"results-grid\" id=\"storage-results\">\n        <!-- Dynamically populated -->\n      </div>\n\n      <div class=\"visualizer\">\n        <div class=\"vis-bar\">\n          <div class=\"vis-fill\" id=\"vis-fill\"></div>\n        </div>\n        <div class=\"vis-labels\">\n          <span>0</span>\n          <span id=\"vis-max-label\">1 TB</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Format Converter Section -->\n    <div id=\"section-format\" class=\"section\">\n      <div class=\"format-controls\">\n        <select id=\"format-from\">\n          <option value=\"json\">JSON</option>\n          <option value=\"csv\">CSV</option>\n          <option value=\"xml\">XML</option>\n        </select>\n        <span class=\"arrow\">â†’</span>\n        <select id=\"format-to\">\n          <option value=\"json\">JSON</option>\n          <option value=\"csv\" selected>CSV</option>\n          <option value=\"xml\">XML</option>\n        </select>\n      </div>\n\n      <div class=\"editor-layout\">\n        <div class=\"editor-pane\">\n          <label>Input</label>\n          <textarea id=\"format-input\" placeholder=\"Paste your data here...\"></textarea>\n        </div>\n        <div class=\"editor-pane\">\n          <div class=\"pane-header\">\n            <label>Output</label>\n            <button class=\"copy-btn\" id=\"btn-copy-format\">Copy</button>\n          </div>\n          <textarea id=\"format-output\" readonly placeholder=\"Result will appear here...\"></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div id=\"toast\" class=\"toast\">Copied to clipboard!</div>\n</div>",
  "css": ":host { display: block; font-family: var(--font-interface); }\n* { box-sizing: border-box; }\n\n.data-studio {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 20px;\n    padding: 1.25rem;\n    color: var(--text-normal);\n    box-shadow: var(--shadow-s);\n    width: 100%;\n    overflow: hidden;\n}\n\n.widget-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1.25rem;\n}\n\n.widget-title {\n    margin: 0;\n    font-size: 0.85rem;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.1em;\n    color: var(--text-muted);\n}\n\n.tab-bar {\n    display: flex;\n    background: var(--background-primary);\n    padding: 4px;\n    border-radius: 10px;\n    gap: 4px;\n    border: 1px solid var(--background-modifier-border);\n}\n\n.tab-btn {\n    background: none;\n    border: none;\n    padding: 6px 12px;\n    font-size: 0.75rem;\n    font-weight: 600;\n    color: var(--text-muted);\n    cursor: pointer;\n    border-radius: 6px;\n    transition: all 0.2s;\n}\n.tab-btn.active {\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n}\n\n.section {\n    display: none;\n    animation: fadeIn 0.3s ease;\n}\n.section.active { display: block; }\n\n@keyframes fadeIn {\n    from { opacity: 0; transform: translateY(5px); }\n    to { opacity: 1; transform: translateY(0); }\n}\n\n.input-card {\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 12px;\n    padding: 12px;\n    margin-bottom: 1rem;\n}\n\n.input-row {\n    display: flex;\n    gap: 8px;\n}\n\n#storage-val {\n    flex: 2;\n    background: none;\n    border: none;\n    font-size: 1.2rem;\n    font-weight: 700;\n    color: var(--text-accent);\n    outline: none;\n    width: 50%;\n}\n\n#storage-unit {\n    flex: 1;\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 8px;\n    padding: 4px 8px;\n    font-size: 0.85rem;\n    color: var(--text-normal);\n    cursor: pointer;\n}\n\n.results-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 10px;\n    margin-bottom: 1.5rem;\n}\n\n.res-item {\n    background: var(--background-primary-alt);\n    padding: 10px;\n    border-radius: 10px;\n    border: 1px solid var(--background-modifier-border);\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.res-label {\n    font-size: 0.6rem;\n    font-weight: 700;\n    color: var(--text-muted);\n    text-transform: uppercase;\n}\n\n.res-val {\n    font-size: 0.9rem;\n    font-weight: 700;\n    color: var(--text-normal);\n}\n\n.visualizer {\n    margin-top: 1rem;\n}\n\n.vis-bar {\n    height: 8px;\n    background: var(--background-primary);\n    border-radius: 4px;\n    overflow: hidden;\n    margin-bottom: 6px;\n}\n\n.vis-fill {\n    height: 100%;\n    background: linear-gradient(90deg, var(--interactive-accent), #00d2ff);\n    width: 0%;\n    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.vis-labels {\n    display: flex;\n    justify-content: space-between;\n    font-size: 0.65rem;\n    color: var(--text-muted);\n    font-weight: 600;\n}\n\n/* Format Section Styles */\n.format-controls {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    margin-bottom: 1rem;\n    background: var(--background-primary);\n    padding: 8px;\n    border-radius: 12px;\n    border: 1px solid var(--background-modifier-border);\n}\n\n.format-controls select {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 6px;\n    padding: 4px 10px;\n    font-size: 0.8rem;\n    color: var(--text-normal);\n    outline: none;\n}\n\n.arrow { color: var(--text-muted); font-weight: 800; }\n\n.editor-layout {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n}\n\n.editor-pane {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n}\n\n.pane-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.editor-pane label {\n    font-size: 0.65rem;\n    font-weight: 700;\n    color: var(--text-muted);\n    text-transform: uppercase;\n}\n\ntextarea {\n    width: 100%;\n    height: 120px;\n    background: var(--background-primary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 10px;\n    padding: 10px;\n    font-size: 0.8rem;\n    font-family: var(--font-monospace);\n    color: var(--text-normal);\n    outline: none;\n    resize: none;\n    transition: border-color 0.2s;\n}\ntextarea:focus { border-color: var(--interactive-accent); }\n\n.copy-btn {\n    background: none;\n    border: 1px solid var(--interactive-accent);\n    color: var(--interactive-accent);\n    padding: 2px 8px;\n    border-radius: 4px;\n    font-size: 0.65rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.copy-btn:hover { background: var(--interactive-accent); color: var(--text-on-accent); }\n\n.toast {\n    position: fixed;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%) translateY(100px);\n    background: var(--interactive-accent);\n    color: var(--text-on-accent);\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    transition: transform 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n    z-index: 100;\n}\n.toast.show { transform: translateX(-50%) translateY(0); }",
  "js": "const { root, saveState, getState } = api;\n\nlet currentTab = 'storage';\n\nconst UNITS = [\n    { label: 'Bytes', factor: 1, suffix: 'B' },\n    { label: 'Kilobytes', factor: 1024, suffix: 'KB' },\n    { label: 'Megabytes', factor: 1048576, suffix: 'MB' },\n    { label: 'Gigabytes', factor: 1073741824, suffix: 'GB' },\n    { label: 'Terabytes', factor: 1099511627776, suffix: 'TB' },\n    { label: 'Petabytes', factor: 1125899906842624, suffix: 'PB' }\n];\n\nfunction updateStorage() {\n    const val = parseFloat(root.getElementById('storage-val').value) || 0;\n    const factor = parseFloat(root.getElementById('storage-unit').value);\n    const totalBytes = val * factor;\n\n    const grid = root.getElementById('storage-results');\n    grid.innerHTML = '';\n\n    UNITS.forEach(u => {\n        const converted = totalBytes / u.factor;\n        const displayVal = converted < 0.01 && converted > 0 ? converted.toExponential(2) : converted.toLocaleString(undefined, { maximumFractionDigits: 2 });\n        \n        const div = document.createElement('div');\n        div.className = 'res-item';\n        div.innerHTML = `\n            <span class=\"res-label\">${u.label}</span>\n            <span class=\"res-val\">${displayVal} ${u.suffix}</span>\n        `;\n        grid.appendChild(div);\n    });\n\n    // Update visualizer\n    const max = 1099511627776; // 1 TB for scale\n    const percent = Math.min(100, (totalBytes / max) * 100);\n    root.getElementById('vis-fill').style.width = percent + '%';\n}\n\nfunction convertFormat() {\n    const input = root.getElementById('format-input').value.trim();\n    const from = root.getElementById('format-from').value;\n    const to = root.getElementById('format-to').value;\n    const output = root.getElementById('format-output');\n\n    if (!input) {\n        output.value = '';\n        return;\n    }\n\n    try {\n        let data;\n        // Parse input\n        if (from === 'json') data = JSON.parse(input);\n        else if (from === 'csv') data = csvToJson(input);\n        else if (from === 'xml') data = xmlToJson(input);\n\n        // Convert to output\n        let result = '';\n        if (to === 'json') result = JSON.stringify(data, null, 2);\n        else if (to === 'csv') result = jsonToCsv(data);\n        else if (to === 'xml') result = jsonToXml(data);\n\n        output.value = result;\n    } catch (e) {\n        output.value = 'âš ï¸ Error: Invalid ' + from.toUpperCase() + ' format';\n    }\n}\n\nfunction csvToJson(csv) {\n    const lines = csv.split('\\n');\n    const headers = lines[0].split(',').map(h => h.trim());\n    return lines.slice(1).filter(l => l.trim()).map(line => {\n        const values = line.split(',');\n        return headers.reduce((obj, h, i) => {\n            obj[h] = values[i]?.trim();\n            return obj;\n        }, {});\n    });\n}\n\nfunction jsonToCsv(json) {\n    if (!Array.isArray(json)) json = [json];\n    const headers = Object.keys(json[0]);\n    const rows = json.map(obj => headers.map(h => obj[h]).join(','));\n    return [headers.join(','), ...rows].join('\\n');\n}\n\nfunction jsonToXml(json, rootName = 'root') {\n    const toXml = (obj) => {\n        let xml = '';\n        for (const prop in obj) {\n            xml += `<${prop}>`;\n            if (typeof obj[prop] === 'object') xml += toXml(obj[prop]);\n            else xml += obj[prop];\n            xml += `</${prop}>`;\n        }\n        return xml;\n    };\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<${rootName}>\\n${toXml(json)}\\n</${rootName}>`;\n}\n\nfunction xmlToJson(xml) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(xml, \"text/xml\");\n    const parseNode = (node) => {\n        if (node.nodeType === 3) return node.nodeValue;\n        const obj = {};\n        if (node.childNodes.length > 0) {\n            node.childNodes.forEach(child => {\n                const val = parseNode(child);\n                if (child.nodeName !== '#text') obj[child.nodeName] = val;\n            });\n        }\n        return obj;\n    };\n    return parseNode(doc.documentElement);\n}\n\nfunction switchTab(tab) {\n    currentTab = tab;\n    root.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));\n    root.querySelectorAll('.section').forEach(s => s.classList.remove('active'));\n    \n    root.getElementById('tab-' + tab).classList.add('active');\n    root.getElementById('section-' + tab).classList.add('active');\n    save();\n}\n\nfunction save() {\n    saveState({\n        tab: currentTab,\n        storageVal: root.getElementById('storage-val').value,\n        storageUnit: root.getElementById('storage-unit').value,\n        formatFrom: root.getElementById('format-from').value,\n        formatTo: root.getElementById('format-to').value,\n        formatInput: root.getElementById('format-input').value\n    });\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        currentTab = saved.tab || 'storage';\n        root.getElementById('storage-val').value = saved.storageVal || 1024;\n        root.getElementById('storage-unit').value = saved.storageUnit || 1048576;\n        root.getElementById('format-from').value = saved.formatFrom || 'json';\n        root.getElementById('format-to').value = saved.formatTo || 'csv';\n        root.getElementById('format-input').value = saved.formatInput || '';\n    }\n\n    switchTab(currentTab);\n\n    const storageVal = root.getElementById('storage-val');\n    const formatInput = root.getElementById('format-input');\n\n    storageVal.oninput = updateStorage;\n    storageVal.onblur = save;\n    root.getElementById('storage-unit').onchange = () => { updateStorage(); save(); };\n    \n    formatInput.oninput = convertFormat;\n    formatInput.onblur = save;\n    root.getElementById('format-from').onchange = () => { convertFormat(); save(); };\n    root.getElementById('format-to').onchange = () => { convertFormat(); save(); };\n\n    root.getElementById('tab-storage').onclick = () => switchTab('storage');\n    root.getElementById('tab-format').onclick = () => switchTab('format');\n\n    root.getElementById('btn-copy-format').onclick = () => {\n        const output = root.getElementById('format-output').value;\n        if (output) {\n            navigator.clipboard.writeText(output);\n            const toast = root.getElementById('toast');\n            toast.classList.add('show');\n            setTimeout(() => toast.classList.remove('show'), 2000);\n        }\n    };\n\n    updateStorage();\n    if (currentTab === 'format') convertFormat();\n}\ninit();",
  "tags": [
    "tools",
    "development",
    "data",
    "conversion",
    "premium"
  ]
}