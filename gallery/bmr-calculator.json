{
  "id": "bmr-calculator",
  "name": "BMR Calculator",
  "description": "Calculate your Basal Metabolic Rate and daily calorie needs.",
  "author": "Infinition",
  "authorUrl": "https://github.com/infinition",
  "html": "<div class=\"bmr-container\">\n  <h4 class=\"widget-title\">⚖️ BMR Calculator</h4>\n  \n  <div class=\"gender-section\">\n    <div class=\"toggle-container\">\n      <span class=\"gender-label\" id=\"label-f\">Female</span>\n      <label class=\"switch\">\n        <input type=\"checkbox\" id=\"gender-toggle\" onchange=\"updateGender()\">\n        <span class=\"toggle-slider\"></span>\n      </label>\n      <span class=\"gender-label active\" id=\"label-m\">Male</span>\n    </div>\n  </div>\n\n  <div class=\"sliders-grid\">\n    <div class=\"input-group\">\n      <div class=\"label-row\">\n        <label>Age</label>\n        <span class=\"value-badge\"><span id=\"age-display\">25</span> y/o</span>\n      </div>\n      <input type=\"range\" id=\"age\" min=\"1\" max=\"100\" value=\"25\" class=\"modern-slider\" oninput=\"sync('age')\">\n    </div>\n\n    <div class=\"input-group\">\n      <div class=\"label-row\">\n        <label>Weight</label>\n        <span class=\"value-badge\"><span id=\"weight-display\">70</span> kg</span>\n      </div>\n      <input type=\"range\" id=\"weight\" min=\"30\" max=\"200\" value=\"70\" class=\"modern-slider\" oninput=\"sync('weight')\">\n    </div>\n\n    <div class=\"input-group\">\n      <div class=\"label-row\">\n        <label>Height</label>\n        <span class=\"value-badge\"><span id=\"height-display\">175</span> cm</span>\n      </div>\n      <input type=\"range\" id=\"height\" min=\"100\" max=\"250\" value=\"175\" class=\"modern-slider\" oninput=\"sync('height')\">\n    </div>\n  </div>\n\n  <div class=\"result-card\">\n    <div class=\"res-row\">\n      <div class=\"res-label\">Basal Metabolic Rate</div>\n      <div class=\"res-value\"><span id=\"bmr-val\">0</span> <small>kcal</small></div>\n    </div>\n    <div class=\"res-divider\"></div>\n    <div class=\"res-row\">\n      <div class=\"res-label\">TDEE (Sedentary)</div>\n      <div class=\"res-value secondary\"><span id=\"tdee-val\">0</span> <small>kcal</small></div>\n    </div>\n  </div>\n</div>",
  "css": ":host { display: block; font-family: var(--font-interface); }\n.bmr-container {\n    background: var(--background-secondary);\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 16px;\n    padding: 1.25rem;\n    color: var(--text-normal);\n    box-shadow: var(--shadow-s);\n}\n\n.widget-title { \n    margin: 0 0 1.25rem 0; \n    font-size: 0.85rem; \n    font-weight: 600; \n    color: var(--text-muted); \n    text-transform: uppercase; \n    letter-spacing: 0.05em; \n    text-align: center;\n}\n\n/* Gender Toggle */\n.gender-section {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 1.5rem;\n}\n.toggle-container {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    background: var(--background-primary);\n    padding: 6px 12px;\n    border-radius: 20px;\n    border: 1px solid var(--background-modifier-border);\n}\n.gender-label {\n    font-size: 0.75rem;\n    font-weight: 500;\n    color: var(--text-muted);\n    transition: color 0.2s;\n}\n.gender-label.active {\n    color: var(--interactive-accent);\n    font-weight: 600;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  height: 20px;\n}\n.switch input { opacity: 0; width: 0; height: 0; }\n.toggle-slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0; left: 0; right: 0; bottom: 0;\n  background-color: var(--background-modifier-border);\n  transition: .3s;\n  border-radius: 20px;\n}\n.toggle-slider:before {\n  position: absolute;\n  content: \"\";\n  height: 14px; width: 14px;\n  left: 3px; bottom: 3px;\n  background-color: white;\n  transition: .3s;\n  border-radius: 50%;\n}\ninput:checked + .toggle-slider { background-color: var(--interactive-accent); }\ninput:checked + .toggle-slider:before { transform: translateX(16px); }\n\n/* Sliders */\n.sliders-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n}\n.label-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 6px;\n}\n.label-row label {\n    font-size: 0.75rem;\n    font-weight: 600;\n    color: var(--text-normal);\n}\n.value-badge {\n    font-size: 0.75rem;\n    background: var(--background-primary);\n    padding: 2px 8px;\n    border-radius: 4px;\n    border: 1px solid var(--background-modifier-border);\n    color: var(--interactive-accent);\n    font-weight: 600;\n}\n\n.modern-slider {\n    -webkit-appearance: none;\n    width: 100%;\n    height: 6px;\n    background: var(--background-modifier-border);\n    border-radius: 3px;\n    outline: none;\n}\n.modern-slider::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    width: 16px;\n    height: 16px;\n    background: var(--interactive-accent);\n    cursor: pointer;\n    border-radius: 50%;\n    border: 2px solid var(--background-secondary);\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n/* Result Card */\n.result-card {\n    background: var(--background-primary);\n    border-radius: 12px;\n    padding: 1rem;\n    border: 1px solid var(--background-modifier-border);\n}\n.res-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.res-label {\n    font-size: 0.7rem;\n    color: var(--text-muted);\n    text-transform: uppercase;\n    font-weight: 600;\n}\n.res-value {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: var(--interactive-accent);\n}\n.res-value.secondary {\n    font-size: 1.1rem;\n    color: var(--text-normal);\n}\n.res-value small { font-size: 0.65rem; font-weight: 500; opacity: 0.7; }\n.res-divider {\n    height: 1px;\n    background: var(--background-modifier-border);\n    margin: 8px 0;\n}",
  "js": "const { root, saveState, getState } = api;\n\nfunction sync(id) {\n    const val = root.getElementById(id).value;\n    root.getElementById(id + '-display').innerText = val;\n    calculate();\n}\n\nfunction updateGender() {\n    const isMale = root.getElementById('gender-toggle').checked;\n    root.getElementById('label-m').classList.toggle('active', isMale);\n    root.getElementById('label-f').classList.toggle('active', !isMale);\n    calculate();\n}\n\nfunction calculate() {\n    const isMale = root.getElementById('gender-toggle').checked;\n    const age = parseInt(root.getElementById('age').value);\n    const weight = parseFloat(root.getElementById('weight').value);\n    const height = parseFloat(root.getElementById('height').value);\n    \n    let bmr = 0;\n    if (isMale) {\n        bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);\n    } else {\n        bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);\n    }\n    \n    root.getElementById('bmr-val').innerText = Math.round(bmr).toLocaleString();\n    root.getElementById('tdee-val').innerText = Math.round(bmr * 1.2).toLocaleString();\n    \n    saveState({ isMale, age, weight, height });\n}\n\nasync function init() {\n    const saved = await getState();\n    if (saved) {\n        root.getElementById('gender-toggle').checked = saved.isMale !== undefined ? saved.isMale : true;\n        root.getElementById('age').value = saved.age || 25;\n        root.getElementById('weight').value = saved.weight || 70;\n        root.getElementById('height').value = saved.height || 175;\n        \n        // Sync displays\n        ['age', 'weight', 'height'].forEach(id => {\n            root.getElementById(id + '-display').innerText = root.getElementById(id).value;\n        });\n        updateGender();\n    } else {\n        // Default state\n        root.getElementById('gender-toggle').checked = true;\n        calculate();\n    }\n}\n\ninit();",
  "tags": [
    "health",
    "fitness",
    "calculator"
  ]
}